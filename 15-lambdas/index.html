<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
<title>Progettazione e Sviluppo del Software</title>
<meta name="description" content="Progettazione e Sviluppo del Software, Tecnologie dei Sistemi Informatici">
<meta name="author" content="Danilo Pianini">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><link rel="stylesheet" href="/reveal-js/dist/reset.css">
<link rel="stylesheet" href="/reveal-js/dist/reveal.css">
  <link rel="stylesheet" href="/css/custom-theme.min.64b25e8fc79cb2d6ebd4c0f19d110cd870679489e26e7e2cf19b4b743498a84c.css" id="theme"><link rel="stylesheet" href="/highlight-js/default.min.css">
<link href="https://fonts.googleapis.com/css?family=Roboto Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Oxygen Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Ubuntu Mono" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

  </head>
  <body>
    
    <div class="reveal">
      <div class="slides">
  

    <section><h1 id="lambda-e-funzioni-first-class">Lambda e funzioni first-class</h1>
<!-- <h4 id="progettazione-e-sviluppo-del-software">Progettazione e Sviluppo del Software</h4>
<h4 id="cdl-tecnologie-dei-sistemi-informatici">C.D.L. Tecnologie dei Sistemi Informatici</h4>
<h3 id="roberto-casadei-----robycasadeiuniboitmailtorobycasadeiuniboit"><a href="mailto:roby.casadei@unibo.it">Roberto Casadei &mdash; <code>roby.casadei@unibo.it</code></a></h3>
<h3 id="angelo-filaseta-----angelofilasetauniboitmailtoangelofilasetauniboit"><a href="mailto:angelo.filaseta@unibo.it">Angelo Filaseta &mdash; <code>angelo.filaseta@unibo.it</code></a></h3>
<h3 id="gianluca-aguzzi-----gianlucaaguzziuniboitmailtogianlucaaguzziuniboit"><a href="mailto:gianluca.aguzzi@unibo.it">Gianluca Aguzzi &mdash; <code>gianluca.aguzzi@unibo.it</code></a></h3>
<!-- ### [Luca DeLuigi --- `luca.deluigi5@unibo.it`](mailto:luca.deluigi5@unibo.it) -->
<p><a href="?print-pdf&amp;pdfSeparateFragments=false"><i class="fa fa-print" aria-hidden="true"></i> versione stampabile</a></p>
</section><section> --&gt;
<h4 id="progettazione-e-sviluppo-del-software">Progettazione e Sviluppo del Software</h4>
<h4 id="cdl-tecnologie-dei-sistemi-informatici">C.D.L. Tecnologie dei Sistemi Informatici</h4>
<h3 id="roberto-casadei-----robycasadeiuniboitmailtorobycasadeiuniboit"><a href="mailto:roby.casadei@unibo.it">Roberto Casadei — <code>roby.casadei@unibo.it</code></a></h3>
<h3 id="angelo-filaseta-----angelofilasetauniboitmailtoangelofilasetauniboit"><a href="mailto:angelo.filaseta@unibo.it">Angelo Filaseta — <code>angelo.filaseta@unibo.it</code></a></h3>
<h3 id="gianluca-aguzzi-----gianlucaaguzziuniboitmailtogianlucaaguzziuniboit"><a href="mailto:gianluca.aguzzi@unibo.it">Gianluca Aguzzi — <code>gianluca.aguzzi@unibo.it</code></a></h3>
<!-- ### [Luca DeLuigi --- `luca.deluigi5@unibo.it`](mailto:luca.deluigi5@unibo.it) -->
<p><a href="?print-pdf&amp;pdfSeparateFragments=false"><i class="fa fa-print" aria-hidden="true"></i> versione stampabile</a></p>
</section><section>
<h2 id="riconoscimenti">Riconoscimenti</h2>
<ul>
<li>
<p>Questo materiale è ampiamente basato su quello realizzato dal Prof.
Mirko Viroli, che ringrazio.</p>
</li>
<li>
<p>Ogni errore riscontratovi è esclusiva responsabilità degli autori di questo documento.</p>
</li>
</ul>
</section><section>
<h2 id="outline">Outline</h2>
<h3 id="goal-della-lezione">Goal della lezione</h3>
<ul>
<li>Illustrare il concetto di lambda</li>
<li>Dettagliare il supporto alle lambda in Java</li>
</ul>
<h3 id="argomenti">Argomenti</h3>
<ul>
<li>Espressioni lambda</li>
<li>Interfacce funzionali</li>
<li>Altri usi nell’API</li>
</ul>
</section><section>
<h1 id="introduzione-alle-lambda">Introduzione alle lambda</h1>
</section><section>
<h2 id="le-novità-di-java-8">Le novità di Java 8</h2>
<h3 id="una-release-molto-attesa-che-rincorre-c-e-scala">Una release molto attesa, che “rincorre” C# e Scala</h3>
<ul>
<li>Molte funzionalità rimandate da Java 7</li>
<li><em>Java 8</em> disponibile dall’estate 2014</li>
<li>Principale novità: <em>lambda</em> (ossia uno degli elementi fondamentali dello stile di <em>programmazione funzionale</em>)
<ul>
<li>Le lambda portano ad uno stile più elegante e astratto di programmazione</li>
<li>In Java, portano a codice più compatto e chiaro in certe situazioni</li>
<li>Impatta alcuni aspetti di linguaggio</li>
<li>Impatta varie librerie</li>
</ul>
</li>
</ul>
<h3 id="risorse">Risorse</h3>
<ul>
<li>Libri: R.Warburton, Java 8 Lambdas</li>
<li><a href="http://www.techempower.com/blog/2013/03/26/everything-about-java-8/">Un tutorial in rete</a></li>
<li><a href="http://cr.openjdk.java.net/~dlsmith/jsr335/jsr335-final/">Java Specification Request (JSR)-335: Lambda Expressions for the Java Programming Language</a></li>
</ul>
</section><section>
<h2 id="da-classimetodi-alle-lambda-il-caso-dei-comparatori">Da classi/metodi alle lambda: il caso dei comparatori</h2>
</section><section>
<h3 id="comparatori-definiti-attraverso-classi">Comparatori definiti attraverso classi</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">FirstComparableBasic</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;</span> <span style="color:#000">list</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">ArrayList</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Mario"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1960</span><span style="color:#000">,</span> <span style="color:#a90d91">true</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Gino"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1970</span><span style="color:#000">,</span> <span style="color:#a90d91">false</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Rino"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1951</span><span style="color:#000">,</span> <span style="color:#a90d91">true</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#a90d91">new</span> <span style="color:#000">AgeComparator</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#a90d91">new</span> <span style="color:#000">AgeComparator</span><span style="color:#000">().</span><span style="color:#836c28">reversed</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#a90d91">new</span> <span style="color:#000">NameComparator</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">class</span> <span style="color:#3f6e75">AgeComparator</span> <span style="color:#a90d91">implements</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">@Override</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">compare</span><span style="color:#000">(</span><span style="color:#000">Person</span> <span style="color:#000">o1</span><span style="color:#000">,</span> <span style="color:#000">Person</span> <span style="color:#000">o2</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">return</span> <span style="color:#000">Integer</span><span style="color:#000">.</span><span style="color:#836c28">compare</span><span style="color:#000">(</span><span style="color:#000">o1</span><span style="color:#000">.</span><span style="color:#836c28">getYearOfBirth</span><span style="color:#000">(),</span> <span style="color:#000">o2</span><span style="color:#000">.</span><span style="color:#836c28">getYearOfBirth</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">class</span> <span style="color:#3f6e75">NameComparator</span> <span style="color:#a90d91">implements</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">@Override</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">compare</span><span style="color:#000">(</span><span style="color:#000">Person</span> <span style="color:#000">o1</span><span style="color:#000">,</span> <span style="color:#000">Person</span> <span style="color:#000">o2</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">return</span> <span style="color:#000">o1</span><span style="color:#000">.</span><span style="color:#836c28">getName</span><span style="color:#000">().</span><span style="color:#836c28">compareTo</span><span style="color:#000">(</span><span style="color:#000">o2</span><span style="color:#000">.</span><span style="color:#836c28">getName</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h3 id="comparatori-definiti-attraverso-classi-innestate">Comparatori definiti attraverso classi innestate</h3>
<ul>
<li>Una <strong>classe innestata statica</strong> <code>B</code> (<em>static nested</em>) è definita all’interno di un’altra classe <code>A</code>
<ul>
<li>Dunque ci si può riferire ad essa via <code>A.B</code> (secondo regole di visibilità), o direttamente via <code>B</code> da dentro la classe <code>A</code></li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">FirstComparableNested</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;</span> <span style="color:#000">list</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">ArrayList</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Mario"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1960</span><span style="color:#000">,</span> <span style="color:#a90d91">true</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Gino"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1970</span><span style="color:#000">,</span> <span style="color:#a90d91">false</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Rino"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1951</span><span style="color:#000">,</span> <span style="color:#a90d91">true</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#a90d91">new</span> <span style="color:#000">AgeComparator</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#a90d91">new</span> <span style="color:#000">AgeComparator</span><span style="color:#000">().</span><span style="color:#836c28">reversed</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#a90d91">new</span> <span style="color:#000">NameComparator</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">AgeComparator</span> <span style="color:#a90d91">implements</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">@Override</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">compare</span><span style="color:#000">(</span><span style="color:#000">Person</span> <span style="color:#000">o1</span><span style="color:#000">,</span> <span style="color:#000">Person</span> <span style="color:#000">o2</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">return</span> <span style="color:#000">Integer</span><span style="color:#000">.</span><span style="color:#836c28">compare</span><span style="color:#000">(</span><span style="color:#000">o1</span><span style="color:#000">.</span><span style="color:#836c28">getYearOfBirth</span><span style="color:#000">(),</span> <span style="color:#000">o2</span><span style="color:#000">.</span><span style="color:#836c28">getYearOfBirth</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">NameComparator</span> <span style="color:#a90d91">implements</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">@Override</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">compare</span><span style="color:#000">(</span><span style="color:#000">Person</span> <span style="color:#000">o1</span><span style="color:#000">,</span> <span style="color:#000">Person</span> <span style="color:#000">o2</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">return</span> <span style="color:#000">o1</span><span style="color:#000">.</span><span style="color:#836c28">getName</span><span style="color:#000">().</span><span style="color:#836c28">compareTo</span><span style="color:#000">(</span><span style="color:#000">o2</span><span style="color:#000">.</span><span style="color:#836c28">getName</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h3 id="comparatori-definiti-attraverso-classi-anonime">Comparatori definiti attraverso classi anonime</h3>
<ul>
<li>Una <strong>classe anonima</strong> è una classe definita “al volo” (senza fornirne dunque un nome) e immediatamente istanziata
<ul>
<li>Si vuole evitare la proliferazione di classi</li>
<li>Tipicamente: per implementare “al volo” una interfaccia</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">FirstComparableWithAnonymousClasses</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;</span> <span style="color:#000">list</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">ArrayList</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Mario"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1960</span><span style="color:#000">,</span> <span style="color:#a90d91">true</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Gino"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1970</span><span style="color:#000">,</span> <span style="color:#a90d91">false</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Rino"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1951</span><span style="color:#000">,</span> <span style="color:#a90d91">true</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;</span> <span style="color:#000">ageComparator</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;()</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">@Override</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">compare</span><span style="color:#000">(</span><span style="color:#000">Person</span> <span style="color:#000">o1</span><span style="color:#000">,</span> <span style="color:#000">Person</span> <span style="color:#000">o2</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">return</span> <span style="color:#000">Integer</span><span style="color:#000">.</span><span style="color:#836c28">compare</span><span style="color:#000">(</span><span style="color:#000">o1</span><span style="color:#000">.</span><span style="color:#836c28">getYearOfBirth</span><span style="color:#000">(),</span> <span style="color:#000">o2</span><span style="color:#000">.</span><span style="color:#836c28">getYearOfBirth</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">};</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#000">ageComparator</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#000">ageComparator</span><span style="color:#000">.</span><span style="color:#836c28">reversed</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#a90d91">new</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;()</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">@Override</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">compare</span><span style="color:#000">(</span><span style="color:#000">Person</span> <span style="color:#000">o1</span><span style="color:#000">,</span> <span style="color:#000">Person</span> <span style="color:#000">o2</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">return</span> <span style="color:#000">o1</span><span style="color:#000">.</span><span style="color:#836c28">getName</span><span style="color:#000">().</span><span style="color:#836c28">compareTo</span><span style="color:#000">(</span><span style="color:#000">o2</span><span style="color:#000">.</span><span style="color:#836c28">getName</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">});</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h3 id="comparatori-attraverso-lambda">Comparatori attraverso lambda</h3>
<ul>
<li>Una <strong>lambda</strong> è una <em>funzione anonima</em>, creata “al volo”
<ul>
<li>internamente implementata come <em>istanza</em> di un’<strong>interfaccia funzionale</strong> (un’interfaccia che definisce un solo metodo astratto)</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">FirstComparableWithLambdas</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;</span> <span style="color:#000">list</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">ArrayList</span><span style="color:#000">&lt;</span><span style="color:#000">Person</span><span style="color:#000">&gt;();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Mario"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1960</span><span style="color:#000">,</span> <span style="color:#a90d91">true</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Gino"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1970</span><span style="color:#000">,</span> <span style="color:#a90d91">false</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Person</span><span style="color:#000">(</span><span style="color:#c41a16">"Rino"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1951</span><span style="color:#000">,</span> <span style="color:#a90d91">true</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> 
</span></span><span style="display:flex;"><span>			<span style="color:#000">(</span><span style="color:#000">Person</span> <span style="color:#000">o1</span><span style="color:#000">,</span> <span style="color:#000">Person</span> <span style="color:#000">o2</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">Integer</span><span style="color:#000">.</span><span style="color:#836c28">compare</span><span style="color:#000">(</span><span style="color:#000">o1</span><span style="color:#000">.</span><span style="color:#836c28">getYearOfBirth</span><span style="color:#000">(),</span> <span style="color:#000">o2</span><span style="color:#000">.</span><span style="color:#836c28">getYearOfBirth</span><span style="color:#000">()));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> 
</span></span><span style="display:flex;"><span>			<span style="color:#000">(</span><span style="color:#000">o1</span><span style="color:#000">,</span> <span style="color:#000">o2</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">{</span> <span style="color:#a90d91">return</span> <span style="color:#000">Integer</span><span style="color:#000">.</span><span style="color:#836c28">compare</span><span style="color:#000">(</span><span style="color:#000">o2</span><span style="color:#000">.</span><span style="color:#836c28">getYearOfBirth</span><span style="color:#000">(),</span> <span style="color:#000">o1</span><span style="color:#000">.</span><span style="color:#836c28">getYearOfBirth</span><span style="color:#000">());</span> <span style="color:#000">}</span> <span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#000">(</span><span style="color:#000">o1</span><span style="color:#000">,</span> <span style="color:#000">o2</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">o1</span><span style="color:#000">.</span><span style="color:#836c28">getName</span><span style="color:#000">().</span><span style="color:#836c28">compareTo</span><span style="color:#000">(</span><span style="color:#000">o2</span><span style="color:#000">.</span><span style="color:#836c28">getName</span><span style="color:#000">()));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h1 id="lambda-expressions">Lambda expressions</h1>
</section><section>
<h2 id="elementi-delle-lambda-expression">Elementi delle lambda expression</h2>
<h3 id="che-cosè-una-lambda">Che cos’è una lambda</h3>
<ul>
<li>è una <em>funzione (anonima)</em> con <em>accesso ad uno scope locale</em> (cf. <em>closure</em>)</li>
<li>è applicabile a certi input, e dà un risultato (oppure <code>void</code>)
<ul>
<li>per calcolare il risultato potrebbe usare qualche variabile nello scope in cui è definita</li>
</ul>
</li>
<li>la lambda è <em>usabile come “valore”</em> (quindi, come dato), ossia è passabile a metodi, altre funzioni, o memorizzata in variabili/campi
<ul>
<li>ossia, consente di “passare” del “codice”</li>
</ul>
</li>
</ul>
<h3 id="caratteristica-specifica-di-java">Caratteristica specifica di Java</h3>
<ul>
<li>come vedremo, una lambda è un oggetto, e il suo tipo è sempre quello di una <code>interface</code> detta “funzionale”</li>
<li>metodi statici o istanza possono essere usati a mo’ di lambda (chiamati “method reference”, perché sono interpretabili come funzioni (come i <code>delegate</code> di C#)</li>
</ul>
</section><section>
<h2 id="come-si-esprime-una-lambda">Come si esprime una lambda</h2>
<h3 id="sintassi-possibili">Sintassi possibili</h3>
<ul>
<li><code>(T1 x1, ..., Tn xn) -&gt; { &lt;body&gt; }</code></li>
<li><code>(x1, ..., xn) -&gt; { &lt;body&gt; }</code></li>
<li><code>x -&gt; { &lt;body&gt; }</code></li>
<li><code>(T1 x1,..,Tn xn) -&gt; &lt;exp&gt;</code></li>
<li><code>(x1,..,xn) -&gt; &lt;exp&gt;</code></li>
<li><code>x -&gt; &lt;exp&gt;</code></li>
<li>.. oppure un “method reference” (si veda in seguito)</li>
</ul>
<h3 id="ossia">Ossia:</h3>
<ul>
<li>Per gli argomenti si può esprimere un tipo o può essere inferito (<em>type inference</em>)</li>
<li>Con un argomento, le parentesi tonde sono omettibili</li>
<li>Il body può essere direttamente una singola espressione/istruzione</li>
</ul>
</section><section>
<h2 id="esempi-di-lambda"><code>Esempi di Lambda</code></h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">FilteringWithLambdas</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;</span> <span style="color:#000">list</span> <span style="color:#000">=</span> <span style="color:#000">Arrays</span><span style="color:#000">.</span><span style="color:#836c28">asList</span><span style="color:#000">(</span><span style="color:#c41a16">"foo"</span><span style="color:#000">,</span> <span style="color:#c41a16">"bar"</span><span style="color:#000">,</span> <span style="color:#c41a16">"foobar!"</span><span style="color:#000">,</span> <span style="color:#c41a16">"AAAAAAA"</span><span style="color:#000">,</span> <span style="color:#c41a16">"!!!"</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">var</span> <span style="color:#000">l1</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">ArrayList</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">l1</span><span style="color:#000">.</span><span style="color:#836c28">removeIf</span><span style="color:#000">((</span><span style="color:#000">String</span> <span style="color:#000">s</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">{</span> <span style="color:#a90d91">return</span> <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">length</span><span style="color:#000">()</span> <span style="color:#000">&gt;</span> <span style="color:#1c01ce">3</span><span style="color:#000">;</span> <span style="color:#000">});</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">l1</span><span style="color:#000">);</span> <span style="color:#177500">// [foo, bar, !!!]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">var</span> <span style="color:#000">l2</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">ArrayList</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">l2</span><span style="color:#000">.</span><span style="color:#836c28">removeIf</span><span style="color:#000">(</span><span style="color:#000">s</span> <span style="color:#000">-&gt;</span> <span style="color:#000">{</span> <span style="color:#a90d91">return</span> <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">startsWith</span><span style="color:#000">(</span><span style="color:#c41a16">"f"</span><span style="color:#000">);</span> <span style="color:#000">});</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">l2</span><span style="color:#000">);</span> <span style="color:#177500">// [bar, AAAAAAA, !!!]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">var</span> <span style="color:#000">l3</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">ArrayList</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">l3</span><span style="color:#000">.</span><span style="color:#836c28">removeIf</span><span style="color:#000">((</span><span style="color:#000">String</span> <span style="color:#000">s</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">contains</span><span style="color:#000">(</span><span style="color:#c41a16">"!"</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">l3</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">var</span> <span style="color:#000">l4</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">ArrayList</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">java</span><span style="color:#000">.</span><span style="color:#836c28">util</span><span style="color:#000">.</span><span style="color:#836c28">function</span><span style="color:#000">.</span><span style="color:#836c28">Predicate</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;</span> <span style="color:#000">p</span> <span style="color:#000">=</span> <span style="color:#000">s</span> <span style="color:#000">-&gt;</span> <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">matches</span><span style="color:#000">(</span><span style="color:#c41a16">"(foo)|(bar)"</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">l4</span><span style="color:#000">.</span><span style="color:#836c28">removeIf</span><span style="color:#000">(</span><span style="color:#000">p</span><span style="color:#000">.</span><span style="color:#836c28">negate</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">l4</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h2 id="come-si-esprime-una-lambda-i-method-reference">Come si esprime una lambda: i <strong>method reference</strong></h2>
<h3 id="sintassi-possibili-1">Sintassi possibili</h3>
<ul>
<li><code>&lt;class&gt;::&lt;static-method&gt;</code>
<ul>
<li>sta per <code>(x1, ..., xn) -&gt; &lt;class&gt;.&lt;static-method&gt;(x1, ..., xn)</code></li>
</ul>
</li>
<li><code>&lt;class&gt;::&lt;instance-method&gt;</code>
<ul>
<li>sta per <code>(x1, ..., xn) -&gt; x1.&lt;instance-method&gt;(x2, ..., xn)</code></li>
</ul>
</li>
<li><code>&lt;obj&gt;::&lt;method&gt;</code>
<ul>
<li>sta per <code>(x1, ..., xn) -&gt; &lt;obj&gt;.&lt;method&gt;(x1, ..., xn)</code></li>
</ul>
</li>
<li><code>&lt;class&gt;::new</code>
<ul>
<li>sta per <code>(x1, ..., xn) -&gt; new &lt;class&gt;(x1, ..., xn)</code></li>
</ul>
</li>
</ul>
<h3 id="ossia-1">Ossia:</h3>
<ul>
<li>Descrivibile come metodo (statico o non), o costruttore..</li>
<li>Usabile “naturalmente” (e opzionalmente) quando la lambda non fa altro che chiamare un metodo usando “banalmente” i suoi input e restituendo il suo “output”</li>
</ul>
</section><section>
<h2 id="esempi-di-method-reference-casi-123"><code>Esempi di Method Reference (casi 1,2,3)</code></h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">AllLambdas2</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">int</span> <span style="color:#000">staticMyCompare</span><span style="color:#000">(</span><span style="color:#a90d91">final</span> <span style="color:#000">String</span> <span style="color:#000">a</span><span style="color:#000">,</span> <span style="color:#a90d91">final</span> <span style="color:#000">String</span> <span style="color:#000">b</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">return</span> <span style="color:#000">a</span><span style="color:#000">.</span><span style="color:#836c28">compareTo</span><span style="color:#000">(</span><span style="color:#000">b</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">int</span> <span style="color:#000">instanceMyCompare</span><span style="color:#000">(</span><span style="color:#a90d91">final</span> <span style="color:#000">String</span> <span style="color:#000">a</span><span style="color:#000">,</span> <span style="color:#a90d91">final</span> <span style="color:#000">String</span> <span style="color:#000">b</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">return</span> <span style="color:#000">b</span><span style="color:#000">.</span><span style="color:#836c28">compareTo</span><span style="color:#000">(</span><span style="color:#000">a</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;</span> <span style="color:#000">list</span> <span style="color:#000">=</span> <span style="color:#000">Arrays</span><span style="color:#000">.</span><span style="color:#836c28">asList</span><span style="color:#000">(</span><span style="color:#c41a16">"a"</span><span style="color:#000">,</span> <span style="color:#c41a16">"bb"</span><span style="color:#000">,</span> <span style="color:#c41a16">"c"</span><span style="color:#000">,</span> <span style="color:#c41a16">"ddd"</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">AllLambdas2</span> <span style="color:#000">objAL</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">AllLambdas2</span><span style="color:#000">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">,</span><span style="color:#000">y</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">staticMyCompare</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">,</span><span style="color:#000">y</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#000">AllLambdas2</span><span style="color:#000">::</span><span style="color:#000">staticMyCompare</span><span style="color:#000">);</span>  <span style="color:#177500">// same as above
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span> <span style="color:#177500">// [a, bb, c, ddd]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">,</span><span style="color:#000">y</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">objAL</span><span style="color:#000">.</span><span style="color:#836c28">instanceMyCompare</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">,</span> <span style="color:#000">y</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#000">objAL</span><span style="color:#000">::</span><span style="color:#000">instanceMyCompare</span><span style="color:#000">);</span>  <span style="color:#177500">// same as above
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span> <span style="color:#177500">// [ddd, c, bb, a]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">,</span><span style="color:#000">y</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">x</span><span style="color:#000">.</span><span style="color:#836c28">compareTo</span><span style="color:#000">(</span><span style="color:#000">y</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#000">String</span><span style="color:#000">::</span><span style="color:#000">compareTo</span><span style="color:#000">);</span>  <span style="color:#177500">// same as above
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span> <span style="color:#177500">// [ddd, c, bb, a]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h2 id="dove-si-può-usare-una-lambda">Dove si può usare una lambda?</h2>
<h3 id="definizione-di-interfaccia-funzionale">Definizione di <strong>interfaccia “funzionale”</strong></h3>
<ul>
<li>E’ una <code>interface</code> con un singolo metodo astratto
<ul>
<li>Ma potrebbero esserci più metodi di default (cf. keyword <code>default</code>)</li>
</ul>
</li>
</ul>
<h3 id="quale-tipo-è-compatibile-con-una-lambda">Quale tipo è compatibile con una lambda?</h3>
<ul>
<li>Una lambda può essere passata <em>dove ci si attende un oggetto che implementi una interfaccia funzionale</em>
<ul>
<li>C’è compatibilità se i tipi in input/output della lambda (inferiti o non) sono compatibili con quelli dell’unico metodo dell’interfaccia</li>
</ul>
</li>
</ul>
<h3 id="motivazione">Motivazione:</h3>
<ul>
<li>Di fatto, <em>il compilatore traduce la lambda nella creazione di un oggetto di una classe anonima che implementa l’interfaccia funzionale</em>
<ul>
<li>Uno specifico opcode a livello di bytecode evita di costruirsi effettivamente un <code>.class</code> per ogni lambda</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="generazione-automatica-della-classe-anonima">Generazione automatica della classe anonima</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">FirstComparable2</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">Persona</span><span style="color:#000">&gt;</span> <span style="color:#000">list</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">ArrayList</span><span style="color:#000">&lt;</span><span style="color:#000">Persona</span><span style="color:#000">&gt;();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Persona</span><span style="color:#000">(</span><span style="color:#c41a16">"Mario"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1960</span><span style="color:#000">,</span> <span style="color:#a90d91">true</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Persona</span><span style="color:#000">(</span><span style="color:#c41a16">"Gino"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1970</span><span style="color:#000">,</span> <span style="color:#a90d91">false</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">list</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#a90d91">new</span> <span style="color:#000">Persona</span><span style="color:#000">(</span><span style="color:#c41a16">"Rino"</span><span style="color:#000">,</span> <span style="color:#1c01ce">1951</span><span style="color:#000">,</span> <span style="color:#a90d91">true</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Sorting with a lambda
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#000">(</span><span style="color:#000">p1</span><span style="color:#000">,</span> <span style="color:#000">p2</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">Integer</span><span style="color:#000">.</span><span style="color:#836c28">compare</span><span style="color:#000">(</span><span style="color:#000">p2</span><span style="color:#000">.</span><span style="color:#836c28">getAnno</span><span style="color:#000">(),</span> <span style="color:#000">p1</span><span style="color:#000">.</span><span style="color:#836c28">getAnno</span><span style="color:#000">()));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Nota che sort richiede un Comparator&lt;Persona&gt;, che ha il solo metodo:
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#177500">// int compare(Persona p1, Persona p2)
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#177500">// Quindi il codice equivalente generato da javac è:
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">Collections</span><span style="color:#000">.</span><span style="color:#836c28">sort</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">,</span> <span style="color:#a90d91">new</span> <span style="color:#000">Comparator</span><span style="color:#000">&lt;</span><span style="color:#000">Persona</span><span style="color:#000">&gt;()</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">int</span> <span style="color:#000">compare</span><span style="color:#000">(</span><span style="color:#000">Persona</span> <span style="color:#000">p1</span><span style="color:#000">,</span> <span style="color:#000">Persona</span> <span style="color:#000">p2</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">return</span> <span style="color:#000">Integer</span><span style="color:#000">.</span><span style="color:#836c28">compare</span><span style="color:#000">(</span><span style="color:#000">p2</span><span style="color:#000">.</span><span style="color:#836c28">getAnno</span><span style="color:#000">(),</span> <span style="color:#000">p1</span><span style="color:#000">.</span><span style="color:#836c28">getAnno</span><span style="color:#000">());</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">});</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h2 id="esempio-funzione-riusabile-di-filtraggio">Esempio: funzione riusabile di filtraggio</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#177500">// Similar to java.util.functions.Predicate&lt;T&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span><span style="color:#a90d91">public</span> <span style="color:#a90d91">interface</span> <span style="color:#3f6e75">Filter</span><span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">boolean</span> <span style="color:#000">applyFilter</span><span style="color:#000">(</span><span style="color:#000">X</span> <span style="color:#000">x</span><span style="color:#000">);</span> <span style="color:#177500">// Does element x pass the filter?
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span><span style="color:#000">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">FilterUtility</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">Set</span><span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">filterAll</span><span style="color:#000">(</span><span style="color:#000">Collection</span><span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">set</span><span style="color:#000">,</span> <span style="color:#000">Filter</span><span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">filter</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">Set</span><span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">newSet</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">HashSet</span><span style="color:#000">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#a90d91">final</span> <span style="color:#000">X</span> <span style="color:#000">x</span> <span style="color:#000">:</span> <span style="color:#000">set</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">filter</span><span style="color:#000">.</span><span style="color:#836c28">applyFilter</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">))</span> <span style="color:#000">{</span> <span style="color:#000">newSet</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">);</span> <span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">return</span> <span style="color:#000">newSet</span><span style="color:#000">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">Integer</span><span style="color:#000">&gt;</span> <span style="color:#000">ls</span> <span style="color:#000">=</span> <span style="color:#000">Arrays</span><span style="color:#000">.</span><span style="color:#836c28">asList</span><span style="color:#000">(</span><span style="color:#1c01ce">10</span><span style="color:#000">,</span> <span style="color:#1c01ce">20</span><span style="color:#000">,</span> <span style="color:#1c01ce">30</span><span style="color:#000">,</span> <span style="color:#1c01ce">40</span><span style="color:#000">,</span> <span style="color:#1c01ce">50</span><span style="color:#000">,</span> <span style="color:#1c01ce">60</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Nota che il nome del metodo in Filter non è mai menzionato qui
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">filterAll</span><span style="color:#000">(</span><span style="color:#000">ls</span><span style="color:#000">,</span> <span style="color:#000">x</span> <span style="color:#000">-&gt;</span> <span style="color:#000">x</span> <span style="color:#000">&gt;</span> <span style="color:#1c01ce">20</span><span style="color:#000">));</span> <span style="color:#177500">// [30,40,50,60]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">filterAll</span><span style="color:#000">(</span><span style="color:#000">ls</span><span style="color:#000">,</span> <span style="color:#000">x</span> <span style="color:#000">-&gt;</span> <span style="color:#000">x</span> <span style="color:#000">&gt;</span> <span style="color:#1c01ce">20</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">x</span> <span style="color:#000">&lt;</span> <span style="color:#1c01ce">60</span><span style="color:#000">));</span> <span style="color:#177500">// [30,40,50]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">filterAll</span><span style="color:#000">(</span><span style="color:#000">ls</span><span style="color:#000">,</span> <span style="color:#000">x</span> <span style="color:#000">-&gt;</span> <span style="color:#000">x</span> <span style="color:#000">%</span> <span style="color:#1c01ce">20</span> <span style="color:#000">==</span> <span style="color:#1c01ce">0</span><span style="color:#000">));</span> <span style="color:#177500">// [20,40,60]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h2 id="metodi-default-nelle-interfacce">Metodi <code>default</code> nelle interfacce</h2>
<h3 id="da-java-8-è-possibile-fornire-implementazioni-ai-metodi-delle-interface">Da Java 8 è possibile fornire implementazioni ai metodi delle <code>interface</code></h3>
<ul>
<li>sintassi: <code>interface I { ... default int m(){ ... } }</code></li>
<li>significato: non è necessario implementarli nelle sottoclassi</li>
</ul>
<!-- *  .. è possibile avere anche metodi statici -->
<h3 id="utilità">Utilità</h3>
<ul>
<li>consente di aggiungere metodi a interfacce senza rompere la compatibilità con classi esistenti che le implementano</li>
<li>fornire “behaviour” ereditabile in modalità multipla</li>
<li><em>costruire più facilmente interfacce funzionali</em>: <em><strong>queste devono in effetti avere un unico metodo senza default</strong></em></li>
<li>consente di realizzare il pattern template method solo con interfacce</li>
</ul>
<h3 id="esempi-di-interfacce-con-metodi-di-default">Esempi di interfacce con metodi di default</h3>
<ul>
<li><code>Iterable</code>, <code>Iterator</code>, <code>Collection</code>, <code>Comparator</code></li>
</ul>
</section><section>
<h2 id="annotazione-functionalinterface">Annotazione <code>@FunctionalInterface</code></h2>
<ul>
<li>da usare opzionalmente per interfacce funzionali, affinché il compilatore controlli che l’interfaccia sia funzionale (ossia che vi sia un solo metodo “astratto”)</li>
<li>nella Java API viene usata spesso</li>
</ul>
<!--
  
### Nota

*  le annotazioni sono usate per vari scopi, ad esempio per indicare al compilatore di fare ulteriori controlli   

-->
</section><section>
<h1 id="lambda-expressions-nellapi-di-java">Lambda expressions nell’API di Java</h1>
</section><section>
<h2 id="interfacce-funzionali-di-libreria----package-javautilfunction">Interfacce funzionali di libreria – package <code>java.util.function</code></h2>
<h3 id="perché-scriversi-una-nuova-interfaccia-funzionale-alloccorrenza">Perché scriversi una nuova interfaccia funzionale all’occorrenza?</h3>
<ul>
<li>Lo si fa solo per rappresentare concetti specifici del dominio</li>
<li>Lo si fa se ha metodi default aggiuntivi</li>
</ul>
<h3 id="in-javautilfunction-vengono-fornite-varie-interfacce-general-purpose">In <code>java.util.function</code> vengono fornite varie interfacce “general purpose”</h3>
<ul>
<li>Sono tutte funzionali</li>
<li>Hanno metodi aggiuntivi default di cui non ci occupiamo</li>
<li>Hanno un metodo “astratto” chiamato, a seconda: <code>apply</code>, <code>accept</code>, <code>test</code> o <code>get</code></li>
</ul>
</section><section>
<h2 id="package-javautilfunction">Package <code>java.util.function</code></h2>
<h3 id="interfacce-base">Interfacce base</h3>
<ul>
<li><code>Consumer&lt;T&gt;</code>: <code>accept:(T)-&gt;void</code></li>
<li><code>Function&lt;T,R&gt;</code>: <code>apply:(T)-&gt;R</code></li>
<li><code>Predicate&lt;T&gt;</code>: <code>test:(T)-&gt;boolean</code></li>
<li><code>Supplier&lt;T&gt;</code>: <code>get:()-&gt;T</code></li>
<li><code>UnaryOperator&lt;T&gt;</code>: <code>apply:(T)-&gt;T</code>
<ul>
<li><code>BiConsumer&lt;T,U&gt;</code>: <code>accept:(T,U)-&gt;void</code></li>
</ul>
</li>
<li><code>BiFunction&lt;T,U,R&gt;</code>:	<code>apply:(T,U)-&gt;R</code></li>
<li><code>BinaryOperator&lt;T&gt;</code>: 	<code>apply:(T,T)-&gt;T</code></li>
<li><code>BiPredicate&lt;T,U&gt;</code>: <code>test:(T,U)-&gt;boolean</code></li>
<li><code>java.lang.Runnable</code>: <code>run:()-&gt;void</code></li>
</ul>
<h3 id="altre-interfacce-usano-i-tipi-primitivi-senza-boxing">Altre interfacce (usano i tipi primitivi senza boxing)</h3>
<ul>
<li><code>BooleanSupplier</code>: <code>get:()-&gt;boolean</code></li>
<li><code>IntConsumer</code>: <code>accept:(int)-&gt;void</code></li>
<li>…</li>
</ul>
</section><section>
<h2 id="esempio-funzione-riusabile-di-filtraggio-via-predicate">Esempio: funzione riusabile di filtraggio via <code>Predicate</code></h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.util.*</span><span style="color:#000">;</span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.util.function.Predicate</span><span style="color:#000">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">FilterUtility2</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">Set</span><span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">filterAll</span><span style="color:#000">(</span><span style="color:#000">Collection</span><span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">set</span><span style="color:#000">,</span> <span style="color:#000">Predicate</span><span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">filter</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">Set</span><span style="color:#000">&lt;</span><span style="color:#000">X</span><span style="color:#000">&gt;</span> <span style="color:#000">newSet</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">HashSet</span><span style="color:#000">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#a90d91">final</span> <span style="color:#000">X</span> <span style="color:#000">x</span> <span style="color:#000">:</span> <span style="color:#000">set</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">if</span> <span style="color:#000">(</span><span style="color:#000">filter</span><span style="color:#000">.</span><span style="color:#836c28">test</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">))</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">newSet</span><span style="color:#000">.</span><span style="color:#836c28">add</span><span style="color:#000">(</span><span style="color:#000">x</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">return</span> <span style="color:#000">newSet</span><span style="color:#000">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">Integer</span><span style="color:#000">&gt;</span> <span style="color:#000">ls</span> <span style="color:#000">=</span> <span style="color:#000">Arrays</span><span style="color:#000">.</span><span style="color:#836c28">asList</span><span style="color:#000">(</span><span style="color:#1c01ce">10</span><span style="color:#000">,</span> <span style="color:#1c01ce">20</span><span style="color:#000">,</span> <span style="color:#1c01ce">30</span><span style="color:#000">,</span> <span style="color:#1c01ce">40</span><span style="color:#000">,</span> <span style="color:#1c01ce">50</span><span style="color:#000">,</span> <span style="color:#1c01ce">60</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Note that the name of the method in Filter is never mentioned here
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">filterAll</span><span style="color:#000">(</span><span style="color:#000">ls</span><span style="color:#000">,</span> <span style="color:#000">x</span> <span style="color:#000">-&gt;</span> <span style="color:#000">x</span> <span style="color:#000">&gt;</span> <span style="color:#1c01ce">20</span><span style="color:#000">));</span> <span style="color:#177500">// [30,40,50,60]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">filterAll</span><span style="color:#000">(</span><span style="color:#000">ls</span><span style="color:#000">,</span> <span style="color:#000">x</span> <span style="color:#000">-&gt;</span> <span style="color:#000">x</span> <span style="color:#000">&gt;</span> <span style="color:#1c01ce">20</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">x</span> <span style="color:#000">&lt;</span> <span style="color:#1c01ce">60</span><span style="color:#000">));</span> <span style="color:#177500">// [30,40,50]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">filterAll</span><span style="color:#000">(</span><span style="color:#000">ls</span><span style="color:#000">,</span> <span style="color:#000">x</span> <span style="color:#000">-&gt;</span> <span style="color:#000">x</span> <span style="color:#000">%</span> <span style="color:#1c01ce">20</span> <span style="color:#000">==</span> <span style="color:#1c01ce">0</span><span style="color:#000">));</span> <span style="color:#177500">// [20,40,60]
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h2 id="esempio-comandi-programmati-via-runnable">Esempio: comandi “programmati” via <code>Runnable</code></h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">RunnableUtility</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">iterate</span><span style="color:#000">(</span><span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">howMany</span><span style="color:#000">,</span> <span style="color:#a90d91">final</span> <span style="color:#000">Runnable</span> <span style="color:#000">r</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#a90d91">int</span> <span style="color:#000">i</span> <span style="color:#000">=</span> <span style="color:#1c01ce">0</span><span style="color:#000">;</span> <span style="color:#000">i</span> <span style="color:#000">&lt;</span> <span style="color:#000">howMany</span><span style="color:#000">;</span> <span style="color:#000">i</span><span style="color:#000">++)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">r</span><span style="color:#000">.</span><span style="color:#836c28">run</span><span style="color:#000">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">batchExecution</span><span style="color:#000">(</span><span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">Runnable</span><span style="color:#000">&gt;</span> <span style="color:#000">list</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">for</span> <span style="color:#000">(</span><span style="color:#a90d91">final</span> <span style="color:#000">Runnable</span> <span style="color:#000">r</span> <span style="color:#000">:</span> <span style="color:#000">list</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">r</span><span style="color:#000">.</span><span style="color:#836c28">run</span><span style="color:#000">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">iterate</span><span style="color:#000">(</span><span style="color:#1c01ce">10</span><span style="color:#000">,</span> <span style="color:#000">()</span> <span style="color:#000">-&gt;</span> <span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#c41a16">"ok"</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">Runnable</span><span style="color:#000">&gt;</span> <span style="color:#000">list</span> <span style="color:#000">=</span> <span style="color:#000">Arrays</span><span style="color:#000">.</span><span style="color:#836c28">asList</span><span style="color:#000">(</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">()</span> <span style="color:#000">-&gt;</span> <span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#c41a16">"a"</span><span style="color:#000">),</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">()</span> <span style="color:#000">-&gt;</span> <span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#c41a16">"b"</span><span style="color:#000">),</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">()</span> <span style="color:#000">-&gt;</span> <span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#c41a16">"c"</span><span style="color:#000">),</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">()</span> <span style="color:#000">-&gt;</span> <span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">exit</span><span style="color:#000">(</span><span style="color:#1c01ce">0</span><span style="color:#000">));</span> <span style="color:#177500">// Inferenza su asList automatica!
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">batchExecution</span><span style="color:#000">(</span><span style="color:#000">list</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h2 id="esempio-funzioni-di-ordine-superiore">Esempio: funzioni di ordine superiore</h2>
<ul>
<li>Le <strong>funzioni di ordine superiore</strong> sono funzioni che accettano in ingresso funzioni e/o che restituiscono in output funzioni</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.util.function.*</span><span style="color:#000">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">Function</span><span style="color:#000">&lt;</span><span style="color:#000">Integer</span><span style="color:#000">,</span> <span style="color:#000">Function</span><span style="color:#000">&lt;</span><span style="color:#000">Integer</span><span style="color:#000">,</span> <span style="color:#000">Integer</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">multiplier</span> <span style="color:#000">=</span> <span style="color:#000">x</span> <span style="color:#000">-&gt;</span> <span style="color:#000">(</span><span style="color:#000">y</span> <span style="color:#000">-&gt;</span> <span style="color:#000">x</span> <span style="color:#000">*</span> <span style="color:#000">y</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">Function</span><span style="color:#000">&lt;</span><span style="color:#000">Integer</span><span style="color:#000">,</span> <span style="color:#000">Integer</span><span style="color:#000">&gt;</span> <span style="color:#000">doubler</span> <span style="color:#000">=</span> <span style="color:#000">multiplier</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#1c01ce">2</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">assertEquals</span><span style="color:#000">(</span><span style="color:#1c01ce">10</span><span style="color:#000">,</span> <span style="color:#000">doubler</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#1c01ce">5</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">BiFunction</span><span style="color:#000">&lt;</span><span style="color:#000">Predicate</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;,</span> <span style="color:#000">Predicate</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;,</span> <span style="color:#000">Predicate</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;&gt;</span> <span style="color:#000">and</span> <span style="color:#000">=</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#000">(</span><span style="color:#000">p1</span><span style="color:#000">,</span> <span style="color:#000">p2</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">(</span><span style="color:#000">s</span> <span style="color:#000">-&gt;</span> <span style="color:#000">p1</span><span style="color:#000">.</span><span style="color:#836c28">test</span><span style="color:#000">(</span><span style="color:#000">s</span><span style="color:#000">)</span> <span style="color:#000">&amp;&amp;</span> <span style="color:#000">p2</span><span style="color:#000">.</span><span style="color:#836c28">test</span><span style="color:#000">(</span><span style="color:#000">s</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">Predicate</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;</span> <span style="color:#000">p</span> <span style="color:#000">=</span> <span style="color:#000">and</span><span style="color:#000">.</span><span style="color:#836c28">apply</span><span style="color:#000">(</span><span style="color:#000">s</span> <span style="color:#000">-&gt;</span> <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">length</span><span style="color:#000">()</span> <span style="color:#000">&lt;</span> <span style="color:#1c01ce">5</span><span style="color:#000">,</span> <span style="color:#000">s</span> <span style="color:#000">-&gt;</span> <span style="color:#000">s</span><span style="color:#000">.</span><span style="color:#836c28">toUpperCase</span><span style="color:#000">().</span><span style="color:#836c28">equals</span><span style="color:#000">(</span><span style="color:#000">s</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">assertFalse</span><span style="color:#000">(</span><span style="color:#000">p</span><span style="color:#000">.</span><span style="color:#836c28">test</span><span style="color:#000">(</span><span style="color:#c41a16">"abc"</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">assertFalse</span><span style="color:#000">(</span><span style="color:#000">p</span><span style="color:#000">.</span><span style="color:#836c28">test</span><span style="color:#000">(</span><span style="color:#c41a16">"ABCDEFG"</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">assertTrue</span><span style="color:#000">(</span><span style="color:#000">p</span><span style="color:#000">.</span><span style="color:#836c28">test</span><span style="color:#000">(</span><span style="color:#c41a16">"ABC"</span><span style="color:#000">));</span>
</span></span></code></pre></div><!--

---

## Esempio: chiusure lessicali

- Una *chiusura (lessicale)* o (in inglese) **closure** è una funzione che accede a simboli visibili nello scope
    - Limitazione: le variabili nello scope referenziate in una lambda devono essere `final`

```java
import java.util.function.*;

final int K = 10;
Predicate<String> p = (s) -> s.length() > K;
p.test("hello"); // false
p.test("hello world"); // true
```

-->
</section><section>
<h2 id="motivazioni-e-vantaggi-nelluso-delle-lambda-in-java">Motivazioni e vantaggi nell’uso delle lambda in Java</h2>
<h3 id="elementi-di-programmazione-funzionale-in-java">Elementi di <strong>programmazione funzionale</strong> in Java</h3>
<ul>
<li>Le lambda consentono di aggiungere certe funzionalità della programmazione funzionale in Java, creando quindi una contaminazione OOP + FP</li>
<li>Il principale uso è quello che concerne la <em>creazione di funzionalità (metodi) ad alto riuso</em> – ad esempio <code>filterAll</code></li>
<li>Tali metodi possono prendere in ingresso funzioni, passate con sintassi semplificata rispetto a quella delle classi anonime, rendendo più “naturale” e agevole l’uso di questo meccanismo</li>
</ul>
<h3 id="miglioramento-alle-api-di-java">Miglioramento alle API di Java</h3>
<ul>
<li>Concetto di <code>Stream&lt;T&gt;</code> e sue manipolazioni, per lavorare su dati sequenziali (collezioni, file, …)</li>
<li>Supporto più diretto ad alcuni pattern: Command, Strategy, Observer</li>
<li>Alcune migliorie “varie” nelle API</li>
</ul>
<!-- *  Facilitare la costruzioni di software "parallelo" (multicore) 

  


---


## Goal delle lambda, in una frase


  
**Realizzare "più algoritmi possibili su sequenze" in una sola istruzione**

-->
</section><section>
<h2 id="interfaccia-javautilmap----metodi-aggiuntivi">Interfaccia <code>java.util.Map</code> – metodi aggiuntivi</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">interface</span> <span style="color:#3f6e75">Map</span><span style="color:#000">&lt;</span><span style="color:#000">K</span><span style="color:#000">,</span><span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">...</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">getOrDefault</span><span style="color:#000">(</span><span style="color:#000">Object</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">defaultValue</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#a90d91">void</span> <span style="color:#000">forEach</span><span style="color:#000">(</span><span style="color:#000">BiConsumer</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">action</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#a90d91">void</span> <span style="color:#000">replaceAll</span><span style="color:#000">(</span><span style="color:#000">BiFunction</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">function</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">putIfAbsent</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">value</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">remove</span><span style="color:#000">(</span><span style="color:#000">Object</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">Object</span> <span style="color:#000">value</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">replace</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">oldValue</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">newValue</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">replace</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">value</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">computeIfAbsent</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">Function</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">mappingFunction</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">computeIfPresent</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">BiFunction</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">remappingFunction</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">compute</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">BiFunction</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">K</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">remappingFunction</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">default</span> <span style="color:#000">V</span> <span style="color:#000">merge</span><span style="color:#000">(</span><span style="color:#000">K</span> <span style="color:#000">key</span><span style="color:#000">,</span> <span style="color:#000">V</span> <span style="color:#000">value</span><span style="color:#000">,</span> <span style="color:#000">BiFunction</span><span style="color:#000">&lt;?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">super</span> <span style="color:#000">V</span><span style="color:#000">,</span> <span style="color:#000">?</span> <span style="color:#a90d91">extends</span> <span style="color:#000">V</span><span style="color:#000">&gt;</span> <span style="color:#000">remappingFunction</span><span style="color:#000">)</span> <span style="color:#000">{..}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h2 id="esempi-su-map">Esempi su <code>Map</code></h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseMap</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">Map</span><span style="color:#000">&lt;</span><span style="color:#000">Integer</span><span style="color:#000">,</span> <span style="color:#000">String</span><span style="color:#000">&gt;</span> <span style="color:#000">map</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">HashMap</span><span style="color:#000">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#1c01ce">10</span><span style="color:#000">,</span> <span style="color:#c41a16">"a"</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#1c01ce">20</span><span style="color:#000">,</span> <span style="color:#c41a16">"bb"</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">put</span><span style="color:#000">(</span><span style="color:#1c01ce">30</span><span style="color:#000">,</span> <span style="color:#c41a16">"ccc"</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">forEach</span><span style="color:#000">((</span><span style="color:#000">k</span><span style="color:#000">,</span> <span style="color:#000">v</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">k</span> <span style="color:#000">+</span> <span style="color:#c41a16">" "</span> <span style="color:#000">+</span> <span style="color:#000">v</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">replaceAll</span><span style="color:#000">((</span><span style="color:#000">k</span><span style="color:#000">,</span> <span style="color:#000">v</span><span style="color:#000">)</span> <span style="color:#000">-&gt;</span> <span style="color:#000">v</span> <span style="color:#000">+</span> <span style="color:#000">k</span><span style="color:#000">);</span> <span style="color:#177500">// nuovi valori
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// {20=bb20, 10=a10, 30=ccc30}
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">merge</span><span style="color:#000">(</span><span style="color:#1c01ce">5</span><span style="color:#000">,</span> <span style="color:#c41a16">"."</span><span style="color:#000">,</span> <span style="color:#000">String</span><span style="color:#000">::</span><span style="color:#000">concat</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">merge</span><span style="color:#000">(</span><span style="color:#1c01ce">10</span><span style="color:#000">,</span> <span style="color:#c41a16">"."</span><span style="color:#000">,</span> <span style="color:#000">String</span><span style="color:#000">::</span><span style="color:#000">concat</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// {20=bb20, 5=., 10=a10., 30=ccc30}
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">getOrDefault</span><span style="color:#000">(</span><span style="color:#1c01ce">5</span><span style="color:#000">,</span> <span style="color:#c41a16">"no"</span><span style="color:#000">));</span> <span style="color:#177500">// "."
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">println</span><span style="color:#000">(</span><span style="color:#000">map</span><span style="color:#000">.</span><span style="color:#836c28">getOrDefault</span><span style="color:#000">(</span><span style="color:#1c01ce">6</span><span style="color:#000">,</span> <span style="color:#c41a16">"no"</span><span style="color:#000">));</span> <span style="color:#177500">// "no"
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section><section>
<h2 id="esempi-di-stream">Esempi di <code>Stream</code></h2>
<ul>
<li>Ogni <code>Collection&lt;T&gt;</code> ha un metodo <code>stream()</code> che restituisce uno <code>Stream&lt;T&gt;</code> (un flusso “lazy” di dati percorribile una sola volta e manipolabile per ottenere ad es. un’informazione aggregata)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseTransformations</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span><span style="color:#000">)</span> <span style="color:#000">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">Integer</span><span style="color:#000">&gt;</span> <span style="color:#000">li</span> <span style="color:#000">=</span> <span style="color:#000">List</span><span style="color:#000">.</span><span style="color:#836c28">of</span><span style="color:#000">(</span><span style="color:#1c01ce">10</span><span style="color:#000">,</span> <span style="color:#1c01ce">20</span><span style="color:#000">,</span> <span style="color:#1c01ce">30</span><span style="color:#000">,</span> <span style="color:#1c01ce">5</span><span style="color:#000">,</span> <span style="color:#1c01ce">6</span><span style="color:#000">,</span> <span style="color:#1c01ce">7</span><span style="color:#000">,</span> <span style="color:#1c01ce">10</span><span style="color:#000">,</span> <span style="color:#1c01ce">20</span><span style="color:#000">,</span> <span style="color:#1c01ce">100</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">print</span><span style="color:#000">(</span><span style="color:#c41a16">"All\t\t :"</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">li</span><span style="color:#000">.</span><span style="color:#836c28">stream</span><span style="color:#000">().</span><span style="color:#836c28">forEach</span><span style="color:#000">(</span><span style="color:#000">i</span> <span style="color:#000">-&gt;</span> <span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">print</span><span style="color:#000">(</span><span style="color:#c41a16">" "</span> <span style="color:#000">+</span> <span style="color:#000">i</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">print</span><span style="color:#000">(</span><span style="color:#c41a16">"\nFilter(&gt;10)\t :"</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">li</span><span style="color:#000">.</span><span style="color:#836c28">stream</span><span style="color:#000">()</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">.</span><span style="color:#836c28">filter</span><span style="color:#000">(</span><span style="color:#000">i</span> <span style="color:#000">-&gt;</span> <span style="color:#000">i</span> <span style="color:#000">&gt;</span> <span style="color:#1c01ce">10</span><span style="color:#000">)</span> <span style="color:#177500">// fa passare solo certi elementi
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>				<span style="color:#000">.</span><span style="color:#836c28">forEach</span><span style="color:#000">(</span><span style="color:#000">i</span> <span style="color:#000">-&gt;</span> <span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">print</span><span style="color:#000">(</span><span style="color:#c41a16">" "</span> <span style="color:#000">+</span> <span style="color:#000">i</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">print</span><span style="color:#000">(</span><span style="color:#c41a16">"\nMap(N:i+1)\t :"</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">li</span><span style="color:#000">.</span><span style="color:#836c28">stream</span><span style="color:#000">()</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">.</span><span style="color:#836c28">map</span><span style="color:#000">(</span><span style="color:#000">i</span> <span style="color:#000">-&gt;</span> <span style="color:#c41a16">"N:"</span> <span style="color:#000">+</span> <span style="color:#000">(</span><span style="color:#000">i</span> <span style="color:#000">+</span> <span style="color:#1c01ce">1</span><span style="color:#000">))</span> <span style="color:#177500">// trasforma ogni elemento
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>				<span style="color:#000">.</span><span style="color:#836c28">forEach</span><span style="color:#000">(</span><span style="color:#000">i</span> <span style="color:#000">-&gt;</span> <span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">print</span><span style="color:#000">(</span><span style="color:#c41a16">" "</span> <span style="color:#000">+</span> <span style="color:#000">i</span><span style="color:#000">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">.</span><span style="color:#836c28">print</span><span style="color:#000">(</span><span style="color:#c41a16">"\nflatMap(i,i+1)\t :"</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">li</span><span style="color:#000">.</span><span style="color:#836c28">stream</span><span style="color:#000">()</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">.</span><span style="color:#836c28">flatMap</span><span style="color:#000">(</span><span style="color:#000">i</span> <span style="color:#000">-&gt;</span> <span style="color:#000">List</span><span style="color:#000">.</span><span style="color:#836c28">of</span><span style="color:#000">(</span><span style="color:#000">i</span><span style="color:#000">,</span> <span style="color:#000">i</span> <span style="color:#000">+</span> <span style="color:#1c01ce">1</span><span style="color:#000">).</span><span style="color:#836c28">stream</span><span style="color:#000">())</span> <span style="color:#177500">// trasforma e appiattisce
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>				<span style="color:#000">.</span><span style="color:#836c28">map</span><span style="color:#000">(</span><span style="color:#000">String</span><span style="color:#000">::</span><span style="color:#000">valueOf</span><span style="color:#000">)</span> <span style="color:#177500">// invece del forEach..
</span></span></span><span style="display:flex;"><span><span style="color:#177500"></span>				<span style="color:#000">.</span><span style="color:#836c28">map</span><span style="color:#000">(</span><span style="color:#c41a16">" "</span><span style="color:#000">::</span><span style="color:#000">concat</span><span style="color:#000">)</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">.</span><span style="color:#836c28">forEach</span><span style="color:#000">(</span><span style="color:#000">System</span><span style="color:#000">.</span><span style="color:#836c28">out</span><span style="color:#000">::</span><span style="color:#000">print</span><span style="color:#000">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">}</span>
</span></span></code></pre></div></section>

  


</div>
      

    </div>
<script type="text/javascript" src="/reveal-hugo/object-assign.js"></script>

<a href="/reveal-js/dist/print/" id="print-location" style="display: none;"></a>

<script type="application/json" id="reveal-hugo-site-params">{"custom_theme":"custom-theme.scss","custom_theme_compile":true,"custom_theme_options":{"enablesourcemap":true,"targetpath":"css/custom-theme.css"},"height":"900","highlight_theme":"default","history":true,"mermaid":[{"startOnLoad":false}],"slide_number":true,"theme":"white","transition":"slide","transition_speed":"fast","width":"1440"}</script>
<script type="application/json" id="reveal-hugo-page-params">null</script>

<script src="/reveal-js/dist/reveal.js"></script>


  
  
  <script type="text/javascript" src="/reveal-js/plugin/markdown/markdown.js"></script>
  
  <script type="text/javascript" src="/reveal-js/plugin/highlight/highlight.js"></script>
  
  <script type="text/javascript" src="/reveal-js/plugin/zoom/zoom.js"></script>
  
  <script type="text/javascript" src="/reveal-js/plugin/notes/notes.js"></script>
  
  
  <script type="text/javascript" src="/reveal-js/plugin/notes/notes.js"></script>




<script type="text/javascript">
  
  
  function camelize(map) {
    if (map) {
      Object.keys(map).forEach(function(k) {
        newK = k.replace(/(\_\w)/g, function(m) { return m[1].toUpperCase() });
        if (newK != k) {
          map[newK] = map[k];
          delete map[k];
        }
      });
    }
    return map;
  }

  var revealHugoDefaults = { center: true, controls: true, history: true, progress: true, transition: "slide" };

  var revealHugoPlugins = { 
    plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom ]
   };
  var revealHugoSiteParams = JSON.parse(document.getElementById('reveal-hugo-site-params').innerHTML);
  var revealHugoPageParams = JSON.parse(document.getElementById('reveal-hugo-page-params').innerHTML);
  
  var options = Object.assign({},
    camelize(revealHugoDefaults),
    camelize(revealHugoSiteParams),
    camelize(revealHugoPageParams),
    camelize(revealHugoPlugins));
  Reveal.initialize(options);
</script>






  

  

  

  

  

  
    
  

  
    
  

  

  
    
  

  

  

  

  
    
  

  
    
  

  

  

  
    
  

  
    
  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  



  <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({"startOnLoad":false});

    let render = (event) => {
      let mermaidElems = event.currentSlide.querySelectorAll('.mermaid');
      if (!mermaidElems.length){
          return
      }
      mermaidElems.forEach(mermaidElem => {
          let processed = mermaidElem.getAttribute('data-processed');
          if (!processed){
              
              mermaid.init(undefined, mermaidElem);
          }
      });
    };
    
    render({currentSlide: Reveal.getCurrentSlide()});

    Reveal.on('slidechanged', render);
    Reveal.on('ready', render);
  </script>

    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
</script>

<script type="text/javascript" id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<script>
  if (/.*?(\?|&)print-pdf/.test(window.location.toString())) {
      var ytVideos = document.getElementsByTagName("iframe")
      for (let i = 0; i < ytVideos.length; i++) {
          var videoFrame = ytVideos[i]
          var isYouTube = /^https?:\/\/(www.)youtube\.com\/.*/.test(videoFrame.src)
          if (isYouTube) {
              console.log(`Removing ${videoFrame.src}`)
              var parent = videoFrame.parentElement
              videoFrame.remove()
              var p = document.createElement('p')
              p.append(
                  document.createTextNode(
                      "There was an embedded video here, but it is disabled in the printed version of the slides."
                  )
              )
              p.append(document.createElement('br'))
              p.append(
                  document.createTextNode(
                      `Visit instead ${
                          videoFrame.src
                      } or ${
                          videoFrame.src.replace(
                              /(^https?:\/\/(www.)youtube\.com)\/(embed\/)(\w+).*/,
                              "https://www.youtube.com/watch?v=$4"
                          )
                      }`
                  )
              )
              parent.appendChild(p)
          }
      }
  }
</script>

    
  

</body></html>