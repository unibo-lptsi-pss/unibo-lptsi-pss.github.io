<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
<title>Progettazione e Sviluppo del Software</title>
<meta name="description" content="Progettazione e Sviluppo del Software, Tecnologie dei Sistemi Informatici">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><link rel="stylesheet" href="/reveal-js/dist/reset.css">
<link rel="stylesheet" href="/reveal-js/dist/reveal.css">
  <link rel="stylesheet" href="/css/custom-theme.min.98a60caa0d0e2bc7a4e1de47a2f7f4789e111fe9a6f6a29e157b6baf0f1d79b2.css" id="theme"><link rel="stylesheet" href="/highlight-js/default.min.css">
<link href="https://fonts.googleapis.com/css?family=Roboto Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Oxygen Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Ubuntu Mono" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.0/css/all.min.css">

  </head>
  <body>
    
    <div class="reveal">
      <div class="slides">
  

    <section><h1 id="interfacce-utente-grafiche-gui-con-swing">Interfacce utente grafiche (GUI) con Swing</h1>
<h4 id="progettazione-e-sviluppo-del-software">Progettazione e Sviluppo del Software</h4>
<h4 id="cdl-tecnologie-dei-sistemi-informatici">C.D.L. Tecnologie dei Sistemi Informatici</h4>
<h3 id="gianluca-aguzzi-----gianlucaaguzziuniboitmailtogianlucaaguzziuniboit"><a href="mailto:gianluca.aguzzi@unibo.it">Gianluca Aguzzi — <code>gianluca.aguzzi@unibo.it</code></a></h3>
<h3 id="angelo-filaseta-----angelofilasetauniboitmailtoangelofilasetauniboit"><a href="mailto:angelo.filaseta@unibo.it">Angelo Filaseta — <code>angelo.filaseta@unibo.it</code></a></h3>
<p><a href="?print-pdf&amp;pdfSeparateFragments=false"><i class="fa fa-print" aria-hidden="true"></i> versione stampabile</a></p>
</section><section>
<h2 id="riconoscimenti">Riconoscimenti</h2>
<ul>
<li>
<p>Questo materiale è ampiamente basato su quello realizzato dai Prof.
Mirko Viroli e Roberto Casadei, che ringrazio.</p>
</li>
<li>
<p>Ogni errore riscontratovi è esclusiva responsabilità degli autori di questo documento.</p>
</li>
</ul>
</section><section>
<h2 id="outline">Outline</h2>
<h3 id="goal-della-lezione">Goal della lezione</h3>
<ul>
<li>Illustrare la libreria Java Swing</li>
<li>Fornire pattern di progettazione per le GUI</li>
</ul>
<h3 id="argomenti">Argomenti</h3>
<ul>
<li>Libreria <em>Swing</em>
<ul>
<li>Panoramica dei concetti, meccanismi, e costrutti principali</li>
</ul>
</li>
<li>La gestione degli eventi nelle GUI ed elementi di <em>programmazione ad eventi</em></li>
<li>Organizzazione <em>MVC</em> delle GUI</li>
</ul>
</section><section>
<h1 id="introduzione-alle-gui">Introduzione alle GUI</h1>
</section><section>
<h2 id="graphical-user-interfaces-gui">Graphical User Interfaces (GUI)</h2>
<h3 id="gui">GUI</h3>
<ul>
<li><em>Interfacce grafiche per l’interazione con l’utente</em>
<ul>
<li>Ritenute più semplici da utilizzare rispetto alle <em>CUI (Console User Interfaces)</em></li>
</ul>
</li>
<li>Sfruttano la possibilità di disegnare più o meno arbitrariamente i pixel della matrice dello schermo</li>
<li>Oltre allo schermo possono sfruttare altri dispositivi: mouse, tastiera,..</li>
<li>Si appoggiano su <em>astrazioni grafiche</em> (pulsanti, icone, finestre)</li>
</ul>
<h3 id="gestione-delle-gui-in-java">Gestione delle GUI in Java</h3>
<ul>
<li><strong>Abstract Window Toolkit (AWT)</strong> in Java 1 e 2 – basso livello</li>
<li><strong>Java Swing</strong> in Java &gt;= 5
<ul>
<li>Costruito sopra AWT</li>
</ul>
</li>
<li>Alternative: <strong>JavaFX</strong> (consigliato per applicazioni moderne), SWT (usato da Eclipse)</li>
</ul>
</section><section>
<h2 id="awt-e-swing-uml">AWT e Swing: UML</h2>
<p><img src="imgs/swing.png" alt=""></p>
</section><section>
<h2 id="awt-swing-e-concetti-principali">AWT, Swing e concetti principali</h2>
<h3 id="i-due-package">I due package</h3>
<ul>
<li>
<p><code>java.awt</code>: Classi base e implementazioni supportate dal S.O.</p>
<ul>
<li>non molto utili da guardare in dettaglio</li>
<li>fornisce comunque l’architettura base</li>
</ul>
</li>
<li>
<p><code>javax.swing</code>: implementazioni gestite “pixel per pixel”</p>
<ul>
<li>le classi <code>J*</code> e quelle sottostanti</li>
</ul>
</li>
</ul>
<h3 id="alcune-classi-base-di-swing">Alcune classi base di Swing</h3>
<ul>
<li><code>JWindow</code>: componente piazzabile nel desktop (senza cornice)</li>
<li><code>JFrame</code>: finestra con “cornice” (menù, barra, icone chiusura)</li>
<li><code>JPanel</code>: pannello di componenti inseribili in un <code>JFrame</code></li>
<li><code>JComponent</code>: componente (pulsante, etichetta, campo di testo, …)</li>
<li><code>JDialog</code>: finestra di dialogo</li>
</ul>
</section><section>
<h2 id="concetti-principali">Concetti principali</h2>
<p><img src="imgs/swing-comps.png" alt=""></p>
</section><section>
<h2 id="un-primo-esempio">Un primo esempio</h2>
<div class="smaller">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">TrySwing</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Creo il frame e imposto titolo e altre proprietà</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JFrame</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setTitle</span>(<span style="color:#c41a16">"Prova di JFrame"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setDefaultCloseOperation</span>(<span style="color:#000">JFrame</span>.<span style="color:#836c28">DO_NOTHING_ON_CLOSE</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setSize</span>(<span style="color:#000">320</span>, <span style="color:#000">240</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Creo un pannello e gli imposto il bordino</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">panel</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Aggiungo il pannello ai 'contenuti' del frame</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getContentPane</span>().<span style="color:#836c28">add</span>(<span style="color:#000">panel</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Aggiungo un pulsante al pannello</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Prova di pulsante"</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Alla fine rendo visible il JFrame</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
<p><img src="imgs/TrySwing.png" alt=""></p>
</section><section>
<h2 id="vari-jcomponent-disponibili">Vari <code>JComponent</code> disponibili..</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">Components</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Creo il frame e imposto titolo e altre proprietà</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JFrame</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setTitle</span>(<span style="color:#c41a16">"Vari JComponent"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setDefaultCloseOperation</span>(<span style="color:#000">JFrame</span>.<span style="color:#836c28">EXIT_ON_CLOSE</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setSize</span>(<span style="color:#000">600</span>, <span style="color:#000">100</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Creo un pannello senza bordino e lo aggiungo al frame</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">panel</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getContentPane</span>().<span style="color:#836c28">add</span>(<span style="color:#000">panel</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">strings</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">String</span><span style="color:#000">[]</span> { <span style="color:#c41a16">"str1"</span>, <span style="color:#c41a16">"str2"</span>, <span style="color:#c41a16">"str3"</span>, <span style="color:#c41a16">"str4"</span> };
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Aggiungo vari componenti</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"JButton"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JLabel</span>(<span style="color:#c41a16">"JLabel"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JTextField</span>(<span style="color:#c41a16">"JTextField"</span>, <span style="color:#000">15</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JList</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;</span>(<span style="color:#000">strings</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JComboBox</span><span style="color:#000">&lt;</span><span style="color:#000">String</span><span style="color:#000">&gt;</span>(<span style="color:#000">strings</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JTextArea</span>(<span style="color:#000">5</span>, <span style="color:#000">10</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Alla fine rendo visible il JFrame</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="imgs/Components.png" alt=""></p>
</section><section>
<h2 id="classi-di-swing">Classi di Swing</h2>
<p><img src="imgs/swing-details.png" alt=""></p>
</section><section>
<h2 id="materiale-da-consultare">Materiale da consultare</h2>
<h3 id="collezione-di-riferimenti-utili">Collezione di riferimenti utili</h3>
<ul>
<li>
<p>JavaDoc delle librerie:</p>
<ul>
<li><code>http://docs.oracle.com/javase/8/docs/api</code></li>
</ul>
</li>
<li>
<p>Tutorial ufficiali:</p>
<ul>
<li><code>http://docs.oracle.com/javase/tutorial/uiswing/</code></li>
</ul>
</li>
</ul>
<h3 id="nota">Nota</h3>
<ul>
<li>Questa lezione illustra le tecniche principali</li>
<li>Occasionalmente mostreremo il funzionamento di vari componenti</li>
<li>Costruire GUI efficaci (e avanzate) richiede però conoscenze ulteriori ottenibili all’occorrenza dai riferimenti di cui sopra</li>
</ul>
</section><section>
<h1 id="il-layout-dei-pannelli">Il layout dei pannelli</h1>
</section><section>
<h2 id="il-problema-del-layout-di-un-pannello">Il problema del Layout di un pannello</h2>
<h3 id="problema">Problema</h3>
<ul>
<li>Intervenire sulla politica di dislocazione dei componenti</li>
<li>Scegliere politiche indipendenti dalle dimensioni della finestra</li>
<li>Organizzare tali selezioni con una buona organizzazione OO</li>
</ul>
<h3 id="la-classe-layoutmanager-e-il-pattern-strategy">La classe <code>LayoutManager</code> e il pattern “Strategy”</h3>
<ul>
<li>Al pannello si passa un oggetto di <code>LayoutManager</code></li>
<li>È lui che incapsula la strategia di inserimento dei componenti</li>
<li>Vari casi: <code>FlowLayout</code> (default), <code>BorderLayout</code>, <code>GridBagLayout</code>,.. (tipicamente da comporre tra loro)</li>
<li>Vedere: <a href="http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html">http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html</a></li>
<li>Il metodo <code>add()</code> di <code>JPanel</code> accetta un ulteriore argomento (<code>Object</code> o <code>int</code>) usato dal Layout Manager</li>
</ul>
</section><section>
<h2 id="senza-layout----deprecabile">Senza Layout – deprecabile</h2>
<div class="container">
<div class="col">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseNoLayout</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JFrame</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setTitle</span>(<span style="color:#c41a16">"AbsoluteLayout Example"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setDefaultCloseOperation</span>(<span style="color:#000">JFrame</span>.<span style="color:#836c28">EXIT_ON_CLOSE</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setResizable</span>(<span style="color:#a90d91">false</span>); <span style="color:#177500">// o true..</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setSize</span>(<span style="color:#000">320</span>, <span style="color:#000">200</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">panel</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">setLayout</span>(<span style="color:#a90d91">null</span>); <span style="color:#177500">// Nessun layout</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getContentPane</span>().<span style="color:#836c28">add</span>(<span style="color:#000">panel</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b1</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Button 1"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b2</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Button 2"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#000">b1</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#000">b2</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Imposto dimensione e posizione</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Dimension</span> <span style="color:#000">size</span> <span style="color:#000">=</span> <span style="color:#000">b1</span>.<span style="color:#836c28">getPreferredSize</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">b1</span>.<span style="color:#836c28">setBounds</span>(<span style="color:#000">25</span>, <span style="color:#000">5</span>, <span style="color:#000">size</span>.<span style="color:#836c28">width</span>, <span style="color:#000">size</span>.<span style="color:#836c28">height</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">size</span> <span style="color:#000">=</span> <span style="color:#000">b2</span>.<span style="color:#836c28">getPreferredSize</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">b2</span>.<span style="color:#836c28">setBounds</span>(<span style="color:#000">55</span>, <span style="color:#000">40</span>, <span style="color:#000">size</span>.<span style="color:#836c28">width</span> <span style="color:#000">*</span> <span style="color:#000">3</span>, <span style="color:#000">size</span>.<span style="color:#836c28">height</span> <span style="color:#000">*</span> <span style="color:#000">3</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
<div class="col">
<p><img src="imgs/NoLayout.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="borderlayout"><code>BorderLayout</code></h2>
<div class="container">
<div class="col">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseBorderLayout</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JFrame</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setTitle</span>(<span style="color:#c41a16">"BorderLayout Example"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setSize</span>(<span style="color:#000">320</span>, <span style="color:#000">200</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">panel</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">setLayout</span>(<span style="color:#a90d91">new</span> <span style="color:#000">BorderLayout</span>()); <span style="color:#177500">// Imposto il layout</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getContentPane</span>().<span style="color:#836c28">add</span>(<span style="color:#000">panel</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Nota l'argomento aggiuntivo di tipo int</span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Nota che i pulsanti non usano la loro dim. preferita!</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"North"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">NORTH</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"South"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">SOUTH</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Center"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">CENTER</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"East"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">EAST</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"West"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">WEST</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
<div class="col">
<p><img src="imgs/BorderLayout.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="lavorare-specializzando-jframe-myframe">Lavorare specializzando <code>JFrame</code>: <code>MyFrame</code></h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#177500">/* Specializzazione di JFrame:
</span></span></span><span style="display:flex;"><span><span style="color:#177500"> * - JFrame è Serializable!
</span></span></span><span style="display:flex;"><span><span style="color:#177500"> * - Il costruttore accetta titolo e layout-manager
</span></span></span><span style="display:flex;"><span><span style="color:#177500"> * - Si aggiunge il JPanel
</span></span></span><span style="display:flex;"><span><span style="color:#177500"> * - Un metodo getMainPanel() ci dà il pannello
</span></span></span><span style="display:flex;"><span><span style="color:#177500"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">MyFrame</span> <span style="color:#a90d91">extends</span> <span style="color:#000">JFrame</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">jp</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#000">MyFrame</span>(<span style="color:#000">String</span> <span style="color:#000">title</span>, <span style="color:#000">LayoutManager</span> <span style="color:#000">lm</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">super</span>(<span style="color:#000">title</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">setDefaultCloseOperation</span>(<span style="color:#000">JFrame</span>.<span style="color:#836c28">EXIT_ON_CLOSE</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">setSize</span>(<span style="color:#000">320</span>, <span style="color:#000">200</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Il layout-manager può essere passato al costruttore di JPanel</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">jp</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#000">lm</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">getContentPane</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">this</span>.<span style="color:#836c28">jp</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#000">JPanel</span> <span style="color:#000">getMainPanel</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">return</span> <span style="color:#a90d91">this</span>.<span style="color:#836c28">jp</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h2 id="nuova-versione-useborderlayout2">Nuova versione <code>UseBorderLayout2</code></h2>
<div class="container">
<div class="col">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseBorderLayout2</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"BorderLayout Example"</span>, <span style="color:#a90d91">new</span> <span style="color:#000">BorderLayout</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"North"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">NORTH</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"South"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">SOUTH</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Center"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">CENTER</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"East"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">EAST</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"West"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">WEST</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#177500">/*
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 * Note sul BorderLayout:
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 * - In NORTH e SOUTH usa l'altezza preferita del componente
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 * - In EAST e WEST usa la larghezza preferita del componente
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 * - Altrove no..
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 */</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
<div class="col">
<p><img src="imgs/BorderLayout.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="qualche-modifica-useborderlayout3">Qualche modifica: <code>UseBorderLayout3</code></h2>
<div class="container">
<div class="col">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseBorderLayout3</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">BorderLayout</span> <span style="color:#000">b</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">BorderLayout</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">b</span>.<span style="color:#836c28">setHgap</span>(<span style="color:#000">10</span>); <span style="color:#177500">// Parametri addizionali del lay-man</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">b</span>.<span style="color:#836c28">setVgap</span>(<span style="color:#000">10</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"BorderLayout Example Bis"</span>, <span style="color:#000">b</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">button</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"North"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">Dimension</span> <span style="color:#000">d</span> <span style="color:#000">=</span> <span style="color:#000">button</span>.<span style="color:#836c28">getPreferredSize</span>(); <span style="color:#177500">// imposto le dim..</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">button</span>.<span style="color:#836c28">setPreferredSize</span>(<span style="color:#a90d91">new</span> <span style="color:#000">Dimension</span>(<span style="color:#000">d</span>.<span style="color:#836c28">width</span>, <span style="color:#000">d</span>.<span style="color:#836c28">height</span> <span style="color:#000">*</span> <span style="color:#000">2</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">button</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">NORTH</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"South"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">SOUTH</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Center"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">CENTER</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"East"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">EAST</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// nota l'effetto di una stringa più lunga qui</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"WestWest"</span>), <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">WEST</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
<div class="col">
<p><img src="imgs/BorderLayoutBis.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="flowlayout"><code>FlowLayout</code></h2>
<div class="container">
<div class="col">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseFlowLayout</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">FlowLayout</span> <span style="color:#000">lay</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>(<span style="color:#000">FlowLayout</span>.<span style="color:#836c28">CENTER</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"FlowLayout Example"</span>, <span style="color:#000">lay</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"A"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"BCD"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"EDFGHI"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"L"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"MNO"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"PQRSTU"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"V"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"ZZZZZZZ"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// frame.pack(); ridimensiona la finestra: da provare!</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#177500">/*
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 * Note sul FlowLayout:
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 * - Di default mette i componenti da sx a dx, centrati
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 * - usa le loro dim preferite
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 * - va a capo quando necessario, partendo dall'alto
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 * .. tutti aspetti modificabili agendo sull'oggetto Layout
</span></span></span><span style="display:flex;"><span><span style="color:#177500">	 */</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
<div class="col">
<p><img src="imgs/FlowLayout.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="un-uso-combinato-di-flowlayout-e-borderlayout">Un uso combinato di <code>FlowLayout</code> e <code>BorderLayout</code></h2>
<div class="container">
<div class="col">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseFlowBorder</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"Flow and Border"</span>, <span style="color:#a90d91">new</span> <span style="color:#000">BorderLayout</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Creo un sotto-pannello per la parte NORTH</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">pNorth</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#000">pNorth</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"North 1"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">pNorth</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"North 2"</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Creo un sotto-pannello per la parte SOUTH</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">pSouth</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>(<span style="color:#000">FlowLayout</span>.<span style="color:#836c28">RIGHT</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">pSouth</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"OK"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">pSouth</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Quit"</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Grazie al polimorfismo, aggiungo pannelli</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">pNorth</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">NORTH</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">pSouth</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">SOUTH</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
<div class="col">
<p><img src="imgs/FlowBorder.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="altro-uso-combinato--gridbaglayout">Altro uso combinato + <code>GridBagLayout</code></h2>
<div class="container">
<div class="col">
<div class="smaller">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.border.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseMixedLayouts</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JTextArea</span> <span style="color:#000">textArea</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JTextArea</span>(); <span style="color:#177500">// Area di testo</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">textArea</span>.<span style="color:#836c28">setLineWrap</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JScrollPane</span> <span style="color:#000">scroll</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JScrollPane</span>(<span style="color:#000">textArea</span>); <span style="color:#177500">// Pannello con barra</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">scroll</span>.<span style="color:#836c28">setVerticalScrollBarPolicy</span>(<span style="color:#000">ScrollPaneConstants</span>.<span style="color:#836c28">VERTICAL_SCROLLBAR_ALWAYS</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">pEastInternal</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#a90d91">new</span> <span style="color:#000">GridBagLayout</span>()); <span style="color:#177500">// Griglia flessibile</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">pEastInternal</span>.<span style="color:#836c28">setBorder</span>(<span style="color:#a90d91">new</span> <span style="color:#000">TitledBorder</span>(<span style="color:#c41a16">"GridBagLayout"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">GridBagConstraints</span> <span style="color:#000">cnst</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">GridBagConstraints</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">cnst</span>.<span style="color:#836c28">gridy</span> <span style="color:#000">=</span> <span style="color:#000">0</span>; <span style="color:#177500">// 1-a riga</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">cnst</span>.<span style="color:#836c28">insets</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Insets</span>(<span style="color:#000">3</span>, <span style="color:#000">3</span>, <span style="color:#000">3</span>, <span style="color:#000">3</span>); <span style="color:#177500">// spazio attorno al comp.</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">cnst</span>.<span style="color:#836c28">fill</span> <span style="color:#000">=</span> <span style="color:#000">GridBagConstraints</span>.<span style="color:#836c28">HORIZONTAL</span>; <span style="color:#177500">// estensione in orizzont.</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">pEastInternal</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"LOAD"</span>), <span style="color:#000">cnst</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">cnst</span>.<span style="color:#836c28">gridy</span><span style="color:#000">++</span>; <span style="color:#177500">// prossima riga</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">pEastInternal</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"SAVE"</span>), <span style="color:#000">cnst</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">cnst</span>.<span style="color:#836c28">gridy</span><span style="color:#000">++</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#000">pEastInternal</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"CLEAR"</span>), <span style="color:#000">cnst</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">cnst</span>.<span style="color:#836c28">gridy</span><span style="color:#000">++</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#000">pEastInternal</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"QUIT"</span>), <span style="color:#000">cnst</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">pEast</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#000">pEast</span>.<span style="color:#836c28">setBorder</span>(<span style="color:#a90d91">new</span> <span style="color:#000">TitledBorder</span>(<span style="color:#c41a16">"FlowLayout"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">pEast</span>.<span style="color:#836c28">add</span>(<span style="color:#000">pEastInternal</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"MixedLayouts Example"</span>, <span style="color:#a90d91">new</span> <span style="color:#000">BorderLayout</span>(<span style="color:#000">5</span>, <span style="color:#000">5</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">scroll</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">CENTER</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">pEast</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">EAST</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">setBorder</span>(<span style="color:#a90d91">new</span> <span style="color:#000">TitledBorder</span>(<span style="color:#c41a16">"BorderLayout"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
</div>
<div class="col">
<p><img src="imgs/Mixed.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="lavorare-incapsulando-il-frame-dentro-una-classe">Lavorare incapsulando il frame dentro una classe</h2>
<h3 id="lindipendenza-dalla-tecnologia-delle-gui">L’indipendenza dalla tecnologia delle GUI</h3>
<ul>
<li>sarà importante costruire GUI in modo che le scelte di basso livello dettate da Swing siano ben nascosti</li>
<li>così da tenere tutto il sistema ben organizzato e ad alto livello</li>
</ul>
<h3 id="tipica-tecnica">Tipica tecnica</h3>
<ul>
<li>si disegni una interfaccia pulita per la guida</li>
<li>i dettagli implementativi al solito siano delegati ad una classe che implementa</li>
</ul>
</section><section>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">interface</span> <span style="color:#3f6e75">UserInterface</span> {	
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">show</span>();
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">setDimensions</span>(<span style="color:#a90d91">int</span> <span style="color:#000">x</span>, <span style="color:#a90d91">int</span> <span style="color:#000">y</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UserInterfaceImpl</span> <span style="color:#a90d91">implements</span> <span style="color:#000">UserInterface</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#000">UserInterfaceImpl</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"Flow and Border"</span>, <span style="color:#a90d91">new</span> <span style="color:#000">BorderLayout</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">pNorth</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#000">pNorth</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"North 1"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">pSouth</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>(<span style="color:#000">FlowLayout</span>.<span style="color:#836c28">RIGHT</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#000">pSouth</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"OK"</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">pNorth</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">NORTH</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">pSouth</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">SOUTH</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">show</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">setDimensions</span>(<span style="color:#a90d91">int</span> <span style="color:#000">x</span>, <span style="color:#a90d91">int</span> <span style="color:#000">y</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">frame</span>.<span style="color:#836c28">setSize</span>(<span style="color:#000">x</span>, <span style="color:#000">y</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseEncapsulatedFrame</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">UserInterface</span> <span style="color:#000">ui</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">UserInterfaceImpl</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">ui</span>.<span style="color:#836c28">setDimensions</span>(<span style="color:#000">300</span>, <span style="color:#000">300</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">ui</span>.<span style="color:#836c28">show</span>();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h1 id="la-gestione-degli-eventi-nelle-gui">La gestione degli eventi nelle GUI</h1>
</section><section>
<h2 id="la-gestione-degli-eventi">La gestione degli eventi</h2>
<h3 id="come-rendere-le-interfacce-vive">Come rendere le interfacce “vive”?</h3>
<ul>
<li>come programmare la possibilità di intercettare le varie azioni che un utente potrebbe compiere sull’interfaccia, ossia la parte “input”?</li>
<li>al solito, sarebbe necessario uno strumento altamente configurabile e ben organizzato</li>
</ul>
<h3 id="il-pattern-observer">Il pattern Observer</h3>
<ul>
<li>È possibile “registrare” nei componenti degli oggetti “ascoltatori” (<em><strong>listeners</strong></em>)</li>
<li>Quando certi eventi accadono, il componente richiama un metodo dei listener registrati</li>
<li>Tale metodo contiene il codice da eseguire in risposta all’evento</li>
<li>Si assume (per ora) che tale codice arrivi “velocemente” a compimento</li>
</ul>
</section><section>
<h2 id="il-pattern-__observer__">Il pattern <em><strong>Observer</strong></em></h2>
<p><img src="imgs/observer.jpg" alt=""></p>
<ul>
<li><code>Subject</code> è la sorgente degli eventi</li>
<li><code>Observer</code> si registra con la <code>Subject#attach(o:Observer)</code></li>
<li>Quando accade l’evento, <code>Subject</code> chiama <code>Observer#notify(e:Event)</code></li>
</ul>
</section><section>
<h3 id="il-caso-dei-click-sui-pulsanti-3-classi">Il caso dei click sui pulsanti: 3 classi</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#177500">// E' il subject degli eventi</span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">class</span> <span style="color:#3f6e75">JButton</span> ... {
</span></span><span style="display:flex;"><span>   <span style="color:#177500">/* Sets the action command string that gets sent as part of the
</span></span></span><span style="display:flex;"><span><span style="color:#177500">     * `ActionEvent` when the button is triggered. */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">void</span> <span style="color:#000">setActionCommand</span>(<span style="color:#000">String</span> <span style="color:#000">s</span>) { ... }
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">void</span> <span style="color:#000">addActionListener</span>(<span style="color:#000">ActionListener</span> <span style="color:#000">listener</span>) { ... }
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">void</span> <span style="color:#000">removeActionListener</span>(<span style="color:#000">ActionListener</span> <span style="color:#000">listener</span>) { ... }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#177500">// Interfaccia da implementare per ascoltare gli eventi</span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">interface</span> <span style="color:#3f6e75">ActionListener</span> ... {
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#177500">// Classe per rappresentare un evento</span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">class</span> <span style="color:#3f6e75">ActionEvent</span> ... {
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span>	<span style="color:#000">getActionCommand</span>() { ... }
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">long</span>	<span style="color:#000">getWhen</span>() { ... }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h2 id="catturare-gli-eventi-dei-pulsanti-con-actioncommand">Catturare gli eventi dei pulsanti con <code>ActionCommand</code></h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.event.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseButtonEvents</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"Events Example"</span>, <span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">ActionListener</span> <span style="color:#000">listener</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyActionListener</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b1</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Say Hello"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">b1</span>.<span style="color:#836c28">setActionCommand</span>(<span style="color:#c41a16">"hello"</span>); <span style="color:#177500">// nome comando</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">b1</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#000">listener</span>);<span style="color:#177500">// registro il listener</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b2</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Quit"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">b2</span>.<span style="color:#836c28">setActionCommand</span>(<span style="color:#c41a16">"quit"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">b2</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#000">listener</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b3</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Looping.."</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">b3</span>.<span style="color:#836c28">setActionCommand</span>(<span style="color:#c41a16">"loop"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">b3</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#000">listener</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">b1</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">b2</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">b3</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="imgs/actions.png" alt=""></p>
</section><section>
<h2 id="corrispondente-listener-come-classe-esterna">Corrispondente listener, come classe esterna</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.event.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#177500">// Nota: si potrebbero usare delle inner class</span>
</span></span><span style="display:flex;"><span><span style="color:#177500">// Nota: ActionCommand "abusa" delle stringhe..</span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">MyActionListener</span> <span style="color:#a90d91">implements</span> <span style="color:#000">ActionListener</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">if</span> (<span style="color:#000">e</span>.<span style="color:#836c28">getActionCommand</span>().<span style="color:#836c28">equals</span>(<span style="color:#c41a16">"hello"</span>)) {
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span>.<span style="color:#836c28">out</span>.<span style="color:#836c28">println</span>(<span style="color:#c41a16">"Hello!!"</span>);
</span></span><span style="display:flex;"><span>		} <span style="color:#a90d91">else</span> <span style="color:#a90d91">if</span> (<span style="color:#000">e</span>.<span style="color:#836c28">getActionCommand</span>().<span style="color:#836c28">equals</span>(<span style="color:#c41a16">"quit"</span>)) {
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span>.<span style="color:#836c28">out</span>.<span style="color:#836c28">println</span>(<span style="color:#c41a16">"Quitting.."</span>);
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span>.<span style="color:#836c28">exit</span>(<span style="color:#000">0</span>);
</span></span><span style="display:flex;"><span>		} <span style="color:#a90d91">else</span> <span style="color:#a90d91">if</span> (<span style="color:#000">e</span>.<span style="color:#836c28">getActionCommand</span>().<span style="color:#836c28">equals</span>(<span style="color:#c41a16">"loop"</span>)) {
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span>.<span style="color:#836c28">out</span>.<span style="color:#836c28">println</span>(<span style="color:#c41a16">"Going stuck.."</span>);
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">for</span> (; <span style="color:#a90d91">true</span>;) {
</span></span><span style="display:flex;"><span>			} <span style="color:#177500">// Nota l'effetto del loop sulla GUI</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h2 id="versione-incapsulata-inner-listener--source-eventi">Versione incapsulata (inner listener + source eventi)</h2>
<div class="smaller">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">EventsFrame</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b1</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Say Hello"</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b2</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Quit"</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b3</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Looping.."</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#000">EventsFrame</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"Events Example"</span>, <span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">b1</span>); <span style="color:#177500">// aggiungo i pulsanti</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">b2</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">b3</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">ActionListener</span> <span style="color:#000">listener</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyActionListener</span>(); <span style="color:#177500">// listener unico</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">b1</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#000">listener</span>);<span style="color:#177500">// registro il listener</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">b2</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#000">listener</span>);<span style="color:#177500">// senza actionCommand!!</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">b3</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#000">listener</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">MyActionListener</span> <span style="color:#a90d91">implements</span> <span style="color:#000">ActionListener</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) { <span style="color:#177500">// switch su getSource</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">if</span> (<span style="color:#000">e</span>.<span style="color:#836c28">getSource</span>() <span style="color:#000">==</span> <span style="color:#000">EventsFrame</span>.<span style="color:#836c28">this</span>.<span style="color:#836c28">b1</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#000">System</span>.<span style="color:#836c28">out</span>.<span style="color:#836c28">println</span>(<span style="color:#c41a16">"Hello!!"</span>);
</span></span><span style="display:flex;"><span>			} <span style="color:#a90d91">else</span> <span style="color:#a90d91">if</span> (<span style="color:#000">e</span>.<span style="color:#836c28">getSource</span>() <span style="color:#000">==</span> <span style="color:#000">EventsFrame</span>.<span style="color:#836c28">this</span>.<span style="color:#836c28">b2</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#000">System</span>.<span style="color:#836c28">out</span>.<span style="color:#836c28">println</span>(<span style="color:#c41a16">"Quitting.."</span>);
</span></span><span style="display:flex;"><span>				<span style="color:#000">System</span>.<span style="color:#836c28">exit</span>(<span style="color:#000">0</span>);
</span></span><span style="display:flex;"><span>			} <span style="color:#a90d91">else</span> <span style="color:#a90d91">if</span> (<span style="color:#000">e</span>.<span style="color:#836c28">getSource</span>() <span style="color:#000">==</span> <span style="color:#000">EventsFrame</span>.<span style="color:#836c28">this</span>.<span style="color:#836c28">b3</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#000">System</span>.<span style="color:#836c28">out</span>.<span style="color:#836c28">println</span>(<span style="color:#c41a16">"Going stuck.."</span>);
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">for</span> (; <span style="color:#a90d91">true</span>;) {
</span></span><span style="display:flex;"><span>				} <span style="color:#177500">// Nota l'effetto del loop sulla GUI</span>
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">new</span> <span style="color:#000">EventsFrame</span>();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
</section><section>
<h2 id="listeners-come-classi-anonime">Listeners come classi anonime</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.event.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseButtonEvents2</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b1</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Say Hello"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">b1</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">ActionListener</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#000">System</span>.<span style="color:#836c28">out</span>.<span style="color:#836c28">println</span>(<span style="color:#c41a16">"Hello!!"</span>);
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}); <span style="color:#177500">// Uso una inner class anonima..</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b2</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Quit"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">b2</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">ActionListener</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#000">System</span>.<span style="color:#836c28">out</span>.<span style="color:#836c28">println</span>(<span style="color:#c41a16">"Quitting.."</span>);
</span></span><span style="display:flex;"><span>				<span style="color:#000">System</span>.<span style="color:#836c28">exit</span>(<span style="color:#000">0</span>);
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}); <span style="color:#177500">// Uso una inner class anonima..</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"Events Example"</span>, <span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">b1</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">b2</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h2 id="listeners-come-lambda">Listeners come lambda</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseButtonEvents3</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b1</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Say Hello"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">b1</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#000">e</span> <span style="color:#000">-&gt;</span> <span style="color:#000">System</span>.<span style="color:#836c28">out</span>.<span style="color:#836c28">println</span>(<span style="color:#c41a16">"Hello!!"</span>)); 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">b2</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Quit"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">b2</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#000">e</span> <span style="color:#000">-&gt;</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span>.<span style="color:#836c28">out</span>.<span style="color:#836c28">println</span>(<span style="color:#c41a16">"Quitting.."</span>);
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span>.<span style="color:#836c28">exit</span>(<span style="color:#000">0</span>);
</span></span><span style="display:flex;"><span>		});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"Events Example"</span>, <span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">b1</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">b2</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h2 id="panoramica-eventi-listeners">Panoramica eventi-listeners</h2>
<p><img src="imgs/events.png" alt=""></p>
</section><section>
<h2 id="sulla-gestione-degli-eventi">Sulla gestione degli eventi</h2>
<h3 id="il-flusso-di-controllo-con-le-gui-di-swing">Il flusso di controllo con le GUI di Swing</h3>
<ul>
<li>Quando si crea un <code>JFrame</code>, la JVM crea l’<strong>Event Dispatch Thread (EDT)</strong></li>
<li>Quindi l’applicazione non termina quando il <code>main</code> completa</li>
<li>Quando un evento si verifica la JVM fa eseguire il corrispondente codice all’EDT</li>
<li>Ecco perché la GUI non risponde a nuovi eventi finché uno precedente non è stato gestito</li>
<li>Per gestire con migliore flessibilità le GUI servono meccanismi di programmazione concorrente</li>
</ul>
</section><section>
<h1 id="alcune-funzionalità-avanzate-delle-gui">Alcune funzionalità avanzate delle GUI</h1>
</section><section>
<h2 id="gui-con-io-listeners-che-modificano-linterfaccia">GUI con I/O: listeners che modificano l’interfaccia</h2>
<div class="container">
<div class="col">
<div class="smaller">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.event.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseIOGUI</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JTextField</span> <span style="color:#000">tf</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JTextField</span>(<span style="color:#000">10</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JLabel</span> <span style="color:#000">lb</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JLabel</span>(<span style="color:#c41a16">"Result: 0"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">bt</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Multiply by 2"</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">bt</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">ActionListener</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#000">String</span> <span style="color:#000">s</span> <span style="color:#000">=</span> <span style="color:#000">tf</span>.<span style="color:#836c28">getText</span>(); <span style="color:#177500">// "21"</span>
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">int</span> <span style="color:#000">n</span> <span style="color:#000">=</span> <span style="color:#000">Integer</span>.<span style="color:#836c28">parseInt</span>(<span style="color:#000">s</span>); <span style="color:#177500">// 21</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">lb</span>.<span style="color:#836c28">setText</span>(<span style="color:#c41a16">"Result :"</span> <span style="color:#000">+</span> <span style="color:#000">n</span> <span style="color:#000">*</span> <span style="color:#000">2</span>);
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">FlowLayout</span> <span style="color:#000">lay</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>(<span style="color:#000">FlowLayout</span>.<span style="color:#836c28">CENTER</span>, <span style="color:#000">10</span>, <span style="color:#000">10</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"I/O Example"</span>, <span style="color:#000">lay</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">tf</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">lb</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">bt</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
</div>
<div class="col">
<p><img src="imgs/iogui.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="gui-con-layout-dinamico">GUI con Layout dinamico</h2>
<div class="container">
<div class="col">
<div class="smaller">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.event.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseDynamicLayout</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">FlowLayout</span> <span style="color:#000">lay</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>(<span style="color:#000">FlowLayout</span>.<span style="color:#836c28">CENTER</span>, <span style="color:#000">10</span>, <span style="color:#000">10</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"Adding Buttons"</span>, <span style="color:#000">lay</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">panel</span> <span style="color:#000">=</span> <span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">bt</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Add a Button"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">bt</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">ActionListener</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">int</span> <span style="color:#000">count</span> <span style="color:#000">=</span> <span style="color:#000">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Button"</span> <span style="color:#000">+</span> <span style="color:#000">count</span><span style="color:#000">++</span>));
</span></span><span style="display:flex;"><span>				<span style="color:#000">panel</span>.<span style="color:#836c28">validate</span>(); <span style="color:#177500">// forza il ricalcolo del layout!</span>
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		});
</span></span><span style="display:flex;"><span>		<span style="color:#000">panel</span>.<span style="color:#836c28">add</span>(<span style="color:#000">bt</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
</div>
<div class="col">
<p><img src="imgs/adding.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="uso-di-un-pannello-come-canvas">Uso di un pannello come Canvas</h2>
<div class="container">
<div class="col">
<div class="smaller">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.event.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.border.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseCanvas</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">DrawPanel</span> <span style="color:#000">pCenter</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">DrawPanel</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#000">pCenter</span>.<span style="color:#836c28">setBorder</span>(<span style="color:#a90d91">new</span> <span style="color:#000">TitledBorder</span>(<span style="color:#c41a16">"Circles here.."</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Intercetto i click del mouse!</span>
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// L'Adapter già implementa banalmente i metodi, quindi basta fare un override</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">pCenter</span>.<span style="color:#836c28">addMouseListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">MouseAdapter</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">mouseClicked</span>(<span style="color:#000">MouseEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#000">pCenter</span>.<span style="color:#836c28">addPoint</span>(<span style="color:#000">e</span>.<span style="color:#836c28">getX</span>(), <span style="color:#000">e</span>.<span style="color:#836c28">getY</span>());
</span></span><span style="display:flex;"><span>				<span style="color:#000">pCenter</span>.<span style="color:#836c28">repaint</span>();
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		});
</span></span><span style="display:flex;"><span>		<span style="color:#177500">// Intercetto il click sul pulsante</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">pEast</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">bt</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Draw"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">bt</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">ActionListener</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#000">pCenter</span>.<span style="color:#836c28">addRandomPoint</span>();
</span></span><span style="display:flex;"><span>				<span style="color:#000">pCenter</span>.<span style="color:#836c28">repaint</span>();
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		});
</span></span><span style="display:flex;"><span>		<span style="color:#000">pEast</span>.<span style="color:#836c28">add</span>(<span style="color:#000">bt</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"Canvas Example"</span>, <span style="color:#a90d91">new</span> <span style="color:#000">BorderLayout</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">pCenter</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">CENTER</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">pEast</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">EAST</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setResizable</span>(<span style="color:#a90d91">false</span>); <span style="color:#177500">// non estendibile!!</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
</div>
<div class="col">
<p><img src="imgs/Canvas.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="la-classe-drawpanel">La classe <code>DrawPanel</code></h2>
<div class="smaller">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#177500">// Specializzazione ad-hoc per un JPanel</span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">DrawPanel</span> <span style="color:#a90d91">extends</span> <span style="color:#000">JPanel</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#a90d91">long</span> <span style="color:#000">serialVersionUID</span> <span style="color:#000">=</span> <span style="color:#000">7114066347061701832L</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">RADIUS</span> <span style="color:#000">=</span> <span style="color:#000">30</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#000">Random</span> <span style="color:#000">RND</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Random</span>();
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#000">Map</span><span style="color:#000">&lt;</span><span style="color:#000">Point</span>, <span style="color:#000">Color</span><span style="color:#000">&gt;</span> <span style="color:#000">circles</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">HashMap</span><span style="color:#000">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#177500">// override del metodo di disegno</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">protected</span> <span style="color:#a90d91">void</span> <span style="color:#000">paintComponent</span>(<span style="color:#000">Graphics</span> <span style="color:#000">g</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">super</span>.<span style="color:#836c28">paintComponent</span>(<span style="color:#000">g</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">for</span> (<span style="color:#000">Map</span>.<span style="color:#836c28">Entry</span><span style="color:#000">&lt;</span><span style="color:#000">Point</span>, <span style="color:#000">Color</span><span style="color:#000">&gt;</span> <span style="color:#000">e</span> : <span style="color:#a90d91">this</span>.<span style="color:#836c28">circles</span>.<span style="color:#836c28">entrySet</span>()) {
</span></span><span style="display:flex;"><span>			<span style="color:#000">g</span>.<span style="color:#836c28">setColor</span>(<span style="color:#000">e</span>.<span style="color:#836c28">getValue</span>());
</span></span><span style="display:flex;"><span>			<span style="color:#000">g</span>.<span style="color:#836c28">fillOval</span>(<span style="color:#000">e</span>.<span style="color:#836c28">getKey</span>().<span style="color:#836c28">x</span>, <span style="color:#000">e</span>.<span style="color:#836c28">getKey</span>().<span style="color:#836c28">y</span>, <span style="color:#000">RADIUS</span>, <span style="color:#000">RADIUS</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#177500">// Metodo per aggiungere nuovi cerchi in posizione random</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">addRandomPoint</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">int</span> <span style="color:#000">x</span> <span style="color:#000">=</span> <span style="color:#000">RND</span>.<span style="color:#836c28">nextInt</span>(<span style="color:#a90d91">this</span>.<span style="color:#836c28">getWidth</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">int</span> <span style="color:#000">y</span> <span style="color:#000">=</span> <span style="color:#000">RND</span>.<span style="color:#836c28">nextInt</span>(<span style="color:#a90d91">this</span>.<span style="color:#836c28">getHeight</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">addPoint</span>(<span style="color:#000">x</span>, <span style="color:#000">y</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#177500">// Metodo per aggiungere nuovi cerchi</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">addPoint</span>(<span style="color:#a90d91">int</span> <span style="color:#000">x</span>, <span style="color:#a90d91">int</span> <span style="color:#000">y</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">Color</span> <span style="color:#000">c</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Color</span>(<span style="color:#000">RND</span>.<span style="color:#836c28">nextInt</span>(<span style="color:#000">256</span>), <span style="color:#000">RND</span>.<span style="color:#836c28">nextInt</span>(<span style="color:#000">256</span>), <span style="color:#000">RND</span>.<span style="color:#836c28">nextInt</span>(<span style="color:#000">256</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">circles</span>.<span style="color:#836c28">put</span>(<span style="color:#a90d91">new</span> <span style="color:#000">Point</span>(<span style="color:#000">x</span> <span style="color:#000">-</span> <span style="color:#000">RADIUS</span> <span style="color:#000">/</span> <span style="color:#000">2</span>, <span style="color:#000">y</span> <span style="color:#000">-</span> <span style="color:#000">RADIUS</span> <span style="color:#000">/</span> <span style="color:#000">2</span>), <span style="color:#000">c</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
</section><section>
<h2 id="uso-delle-finestre-di-dialogo">Uso delle finestre di dialogo</h2>
<div class="container">
<div class="col">
<div class="smaller">
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.*</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">java.awt.event.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">javax.swing.*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">UseDialogs</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">FlowLayout</span> <span style="color:#000">fl</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>(<span style="color:#000">FlowLayout</span>.<span style="color:#836c28">CENTER</span>, <span style="color:#000">10</span>, <span style="color:#000">10</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">MyFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">MyFrame</span>(<span style="color:#c41a16">"Dialogs Example"</span>, <span style="color:#000">fl</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setDefaultCloseOperation</span>(<span style="color:#000">WindowConstants</span>.<span style="color:#836c28">DO_NOTHING_ON_CLOSE</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">addWindowListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">WindowAdapter</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">windowClosing</span>(<span style="color:#000">WindowEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">int</span> <span style="color:#000">n</span> <span style="color:#000">=</span> <span style="color:#000">JOptionPane</span>.<span style="color:#836c28">showConfirmDialog</span>(<span style="color:#000">frame</span>,
</span></span><span style="display:flex;"><span>						<span style="color:#c41a16">"Do you really want to quit?"</span>,
</span></span><span style="display:flex;"><span>						<span style="color:#c41a16">"Quitting.."</span>, <span style="color:#000">JOptionPane</span>.<span style="color:#836c28">YES_NO_OPTION</span>);
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">if</span> (<span style="color:#000">n</span> <span style="color:#000">==</span> <span style="color:#000">JOptionPane</span>.<span style="color:#836c28">YES_OPTION</span>) {
</span></span><span style="display:flex;"><span>					<span style="color:#000">System</span>.<span style="color:#836c28">exit</span>(<span style="color:#000">0</span>);
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		});
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JTextField</span> <span style="color:#000">tf</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JTextField</span>(<span style="color:#000">10</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JLabel</span> <span style="color:#000">lb</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JLabel</span>(<span style="color:#c41a16">"Result: 0"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">bt</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#c41a16">"Multiply by 2"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">bt</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">ActionListener</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">try</span> {
</span></span><span style="display:flex;"><span>					<span style="color:#000">lb</span>.<span style="color:#836c28">setText</span>(<span style="color:#c41a16">"Result :"</span> <span style="color:#000">+</span> <span style="color:#000">Integer</span>.<span style="color:#836c28">parseInt</span>(<span style="color:#000">tf</span>.<span style="color:#836c28">getText</span>()) <span style="color:#000">*</span> <span style="color:#000">2</span>);
</span></span><span style="display:flex;"><span>				} <span style="color:#a90d91">catch</span> (<span style="color:#000">Exception</span> <span style="color:#000">ex</span>) {
</span></span><span style="display:flex;"><span>					<span style="color:#000">JOptionPane</span>.<span style="color:#836c28">showMessageDialog</span>(<span style="color:#000">frame</span>, <span style="color:#c41a16">"An integer please.."</span>);
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		});
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">tf</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">lb</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getMainPanel</span>().<span style="color:#836c28">add</span>(<span style="color:#000">bt</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
</div>
<div class="col">
<p><img src="imgs/dialogs.png" alt=""></p>
</div>
</div>
</section><section>
<h2 id="le-gui-builder">Le GUI builder</h2>
<h3 id="cosa-sono">Cosa sono?</h3>
<ul>
<li>Sono sistemi software usabili per creare il codice che genera le interfacce</li>
<li>Permettono una descrizione WYSIWYG (What you see is what you get)</li>
<li>Spesso non sono particolarmente semplici da  usare</li>
<li>Con un po’ di esperienza e una buona conoscenza delle librerie sottostanti, possono essere usati con successo</li>
<li>Se li si usasse, si deve però anche comprendere (e criticare) il codice che producono</li>
</ul>
</section><section>
<h2 id="windowbuilder-un-plugin-per-eclipse">WindowBuilder: un plugin per Eclipse</h2>
<p><img src="imgs/builder.png" alt=""></p>
</section><section>
<h1 id="organizzazione-applicazioni-grafiche-con-mvc">Organizzazione applicazioni grafiche con MVC</h1>
</section><section>
<h2 id="il-pattern-architetturale-mvc">Il pattern architetturale MVC</h2>
<h3 id="mvc----divide-lapplicazione-in-3-parti">MVC – divide l’applicazione in 3 parti</h3>
<ul>
<li><code>Model</code>: modello OO del dominio applicativo del sistema</li>
<li><code>View</code>: gestisce le interazioni con l’utente (input e output)</li>
<li><code>Controller</code>: gestisce il coordinamento fra Model e View</li>
</ul>
</section><section>
<h2 id="applicazione-del-mvc">Applicazione del MVC</h2>
<h3 id="sulla-costruzione-di-applicazioni-con-gui">Sulla costruzione di applicazioni con GUI</h3>
<ul>
<li>Specialmente se non esperti, possono essere alquanto laboriose</li>
<li>Usare un approccio strutturato sembra richiedere più tempo nel complesso, ma in realtà porta a soluzione più facilmente modificabili e controllabili</li>
</ul>
<h3 id="alcune-linee-guida">Alcune linee guida</h3>
<ul>
<li>Usare il pattern MVC per la struttura generale</li>
<li>Identificate le varie “interazioni”, e quindi costruire le interfacce dei vari componenti bene fin dall’inizio</li>
<li>Cercare massima indipendenza fra i vari componenti (interfacce con meno metodi possibile)</li>
<li>Costruire e testare modello e GUI separatamente (M e V), poi collegare il tutto col controllore (C) che risulterà particolarmente esile</li>
<li>Per la GUI eventualmente usare un GUI Builder</li>
</ul>
</section><section>
<h2 id="mvc-con-le-gui-un-esempio-di-struttura">MVC con le GUI: un esempio di struttura</h2>
<p><img src="imgs/MVC-abstract.png" alt=""></p>
</section><section>
<h2 id="componenti-e-loro-interazioni">Componenti e loro interazioni</h2>
<h3 id="mvc">MVC</h3>
<ul>
<li><code>Model</code>: incapsula dati e logica relativi al dominio della applicazione</li>
<li><code>View</code>: incapsula la GUI, le sue sottoparti, e la logica di notifica</li>
<li><code>Controller</code>: intercetta gli eventi della View, comanda le modifiche al modello, cambia di conseguenza la View</li>
</ul>
<h3 id="interfacce----nomi-da-modificare-in-una-applicazione-concreta">Interfacce – nomi da modificare in una applicazione concreta</h3>
<ul>
<li><code>ModelInterface</code>: letture/modifiche da parte del Controller</li>
<li><code>ViewObserver</code>: comandi inviati dalla view al controller (<code>void</code>)</li>
<li><code>ViewInterface</code>: comandi per settare la view, notifiche a fronte dei comandi (errori..)</li>
</ul>
</section><section>
<h2 id="un-esempio-di-applicazione-drawnumber">Un esempio di applicazione: <code>DrawNumber</code></h2>
<p><img src="imgs/class.png" alt=""></p>
</section><section>
<h2 id="interfaccia-del-model-drawnumber">Interfaccia del model: <code>DrawNumber</code></h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">interface</span> <span style="color:#3f6e75">DrawNumber</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">reset</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">DrawResult</span> <span style="color:#000">attempt</span>(<span style="color:#a90d91">int</span> <span style="color:#000">n</span>) <span style="color:#a90d91">throws</span> <span style="color:#000">AttemptsLimitReachedException</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">enum</span> <span style="color:#000">DrawResult</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#000">YOURS_IS_LOWER</span>, <span style="color:#000">YOURS_IS_HIGHER</span>, <span style="color:#000">YOU_WON</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">AttemptsLimitReachedException</span> <span style="color:#a90d91">extends</span> <span style="color:#000">Exception</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a90d91">public</span> <span style="color:#000">AttemptsLimitReachedException</span>() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h2 id="implementazione-del-model-drawnumberimpl-12">Implementazione del model: <code>DrawNumberImpl</code> (1/2)</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">DrawNumberImpl</span> <span style="color:#a90d91">implements</span> <span style="color:#000">DrawNumber</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">int</span> <span style="color:#000">choice</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">min</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">max</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">attempts</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">int</span> <span style="color:#000">remainingAttempts</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#000">Random</span> <span style="color:#000">random</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Random</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#000">DrawNumberImpl</span>(<span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">min</span>, <span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">max</span>, <span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">attempts</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">min</span> <span style="color:#000">=</span> <span style="color:#000">min</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">max</span> <span style="color:#000">=</span> <span style="color:#000">max</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">attempts</span> <span style="color:#000">=</span> <span style="color:#000">attempts</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">reset</span>();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">reset</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">remainingAttempts</span> <span style="color:#000">=</span> <span style="color:#a90d91">this</span>.<span style="color:#836c28">attempts</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">choice</span> <span style="color:#000">=</span> <span style="color:#a90d91">this</span>.<span style="color:#836c28">min</span> <span style="color:#000">+</span> <span style="color:#000">random</span>.<span style="color:#836c28">nextInt</span>(<span style="color:#a90d91">this</span>.<span style="color:#836c28">max</span> <span style="color:#000">-</span> <span style="color:#a90d91">this</span>.<span style="color:#836c28">min</span> <span style="color:#000">+</span> <span style="color:#000">1</span>);
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div></section><section>
<h2 id="implementazione-del-model-drawnumberimpl-22">Implementazione del model: <code>DrawNumberImpl</code> (2/2)</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#000">DrawResult</span> <span style="color:#000">attempt</span>(<span style="color:#a90d91">int</span> <span style="color:#000">n</span>) <span style="color:#a90d91">throws</span> <span style="color:#000">AttemptsLimitReachedException</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">if</span> (<span style="color:#a90d91">this</span>.<span style="color:#836c28">remainingAttempts</span> <span style="color:#000">==</span> <span style="color:#000">0</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">AttemptsLimitReachedException</span>();
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">if</span> (<span style="color:#000">n</span> <span style="color:#000">&lt;</span> <span style="color:#a90d91">this</span>.<span style="color:#836c28">min</span> <span style="color:#000">||</span> <span style="color:#000">n</span> <span style="color:#000">&gt;</span> <span style="color:#a90d91">this</span>.<span style="color:#836c28">max</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">throw</span> <span style="color:#a90d91">new</span> <span style="color:#000">IllegalArgumentException</span>();
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">if</span> (<span style="color:#000">n</span> <span style="color:#000">&gt;</span> <span style="color:#a90d91">this</span>.<span style="color:#836c28">choice</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">return</span> <span style="color:#000">DrawResult</span>.<span style="color:#836c28">YOURS_IS_HIGHER</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">if</span> (<span style="color:#000">n</span> <span style="color:#000">&lt;</span> <span style="color:#a90d91">this</span>.<span style="color:#836c28">choice</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">return</span> <span style="color:#000">DrawResult</span>.<span style="color:#836c28">YOURS_IS_LOWER</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">return</span> <span style="color:#000">DrawResult</span>.<span style="color:#836c28">YOU_WON</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h2 id="interfacce-della-view-drawnumberview">Interfacce della view: <code>DrawNumberView</code></h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">interface</span> <span style="color:#3f6e75">DrawNumberView</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">setObserver</span>(<span style="color:#000">DrawNumberViewObserver</span> <span style="color:#000">observer</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">start</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">numberIncorrect</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">limitsReached</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">result</span>(<span style="color:#000">DrawResult</span> <span style="color:#000">res</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">interface</span> <span style="color:#3f6e75">DrawNumberViewObserver</span> {	
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">newAttempt</span>(<span style="color:#a90d91">int</span> <span style="color:#000">n</span>);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">resetGame</span>();
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">void</span> <span style="color:#000">quit</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h2 id="implementazione-della-view-drawnumberviewimpl-13">Implementazione della view: <code>DrawNumberViewImpl</code> (1/3)</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">DrawNumberViewImpl</span> <span style="color:#a90d91">implements</span> <span style="color:#000">DrawNumberView</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#000">String</span> <span style="color:#000">FRAME_NAME</span> <span style="color:#000">=</span> <span style="color:#c41a16">"Draw Number App"</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#000">String</span> <span style="color:#000">QUIT</span> <span style="color:#000">=</span> <span style="color:#c41a16">"Quit"</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#000">String</span> <span style="color:#000">RESET</span> <span style="color:#000">=</span> <span style="color:#c41a16">"Reset"</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#000">String</span> <span style="color:#000">GO</span> <span style="color:#000">=</span> <span style="color:#c41a16">"Go"</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#000">Dimension</span> <span style="color:#000">WINDOW_DIMENSION</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">Dimension</span>(<span style="color:#000">320</span>, <span style="color:#000">200</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#000">Map</span><span style="color:#000">&lt;</span><span style="color:#000">DrawResult</span>, <span style="color:#000">String</span><span style="color:#000">&gt;</span> <span style="color:#000">messages</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">HashMap</span><span style="color:#000">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">static</span> { <span style="color:#177500">// inizializzatore statico</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">messages</span>.<span style="color:#836c28">put</span>(<span style="color:#000">DrawResult</span>.<span style="color:#836c28">YOURS_IS_HIGHER</span>, <span style="color:#c41a16">"Your number is too high"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">messages</span>.<span style="color:#836c28">put</span>(<span style="color:#000">DrawResult</span>.<span style="color:#836c28">YOURS_IS_LOWER</span>, <span style="color:#c41a16">"Your number is too low"</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">messages</span>.<span style="color:#836c28">put</span>(<span style="color:#000">DrawResult</span>.<span style="color:#836c28">YOU_WON</span>, <span style="color:#c41a16">"You won the game!!"</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#000">DrawNumberViewObserver</span> <span style="color:#000">observer</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#000">JFrame</span> <span style="color:#000">frame</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JFrame</span>(<span style="color:#000">FRAME_NAME</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#000">DrawNumberViewImpl</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setDefaultCloseOperation</span>(<span style="color:#000">JFrame</span>.<span style="color:#836c28">EXIT_ON_CLOSE</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">setSize</span>(<span style="color:#000">WINDOW_DIMENSION</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getContentPane</span>().<span style="color:#836c28">add</span>(<span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#a90d91">new</span> <span style="color:#000">BorderLayout</span>()));
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">pNorth</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>());
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JTextField</span> <span style="color:#000">tNumber</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JTextField</span>(<span style="color:#000">10</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">bGo</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#000">GO</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">pNorth</span>.<span style="color:#836c28">add</span>(<span style="color:#000">tNumber</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">pNorth</span>.<span style="color:#836c28">add</span>(<span style="color:#000">bGo</span>);
</span></span></code></pre></div></section><section>
<h2 id="implementazione-della-view-drawnumberviewimpl-23">Implementazione della view: <code>DrawNumberViewImpl</code> (2/3)</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JPanel</span> <span style="color:#000">pSouth</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JPanel</span>(<span style="color:#a90d91">new</span> <span style="color:#000">FlowLayout</span>(<span style="color:#000">FlowLayout</span>.<span style="color:#836c28">RIGHT</span>));
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">bReset</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#000">RESET</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">final</span> <span style="color:#000">JButton</span> <span style="color:#000">bQuit</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">JButton</span>(<span style="color:#000">QUIT</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">pSouth</span>.<span style="color:#836c28">add</span>(<span style="color:#000">bReset</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">pSouth</span>.<span style="color:#836c28">add</span>(<span style="color:#000">bQuit</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getContentPane</span>().<span style="color:#836c28">add</span>(<span style="color:#000">pNorth</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">NORTH</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">frame</span>.<span style="color:#836c28">getContentPane</span>().<span style="color:#836c28">add</span>(<span style="color:#000">pSouth</span>, <span style="color:#000">BorderLayout</span>.<span style="color:#836c28">SOUTH</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000">bGo</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">ActionListener</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">try</span> {
</span></span><span style="display:flex;"><span>					<span style="color:#000">observer</span>.<span style="color:#836c28">newAttempt</span>(<span style="color:#000">Integer</span>.<span style="color:#836c28">parseInt</span>(<span style="color:#000">tNumber</span>.<span style="color:#836c28">getText</span>()));
</span></span><span style="display:flex;"><span>				} <span style="color:#a90d91">catch</span> (<span style="color:#000">NumberFormatException</span> <span style="color:#000">exception</span>) {
</span></span><span style="display:flex;"><span>					<span style="color:#000">JOptionPane</span>.<span style="color:#836c28">showMessageDialog</span>(<span style="color:#000">frame</span>, <span style="color:#c41a16">"An integer please.."</span>);
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		});
</span></span><span style="display:flex;"><span>		<span style="color:#000">bQuit</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">ActionListener</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">if</span> (<span style="color:#000">confirmDialog</span>(<span style="color:#c41a16">"Confirm quitting?"</span>, <span style="color:#c41a16">"Quit"</span>)) {
</span></span><span style="display:flex;"><span>					<span style="color:#000">observer</span>.<span style="color:#836c28">quit</span>();
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		});
</span></span><span style="display:flex;"><span>		<span style="color:#000">bReset</span>.<span style="color:#836c28">addActionListener</span>(<span style="color:#a90d91">new</span> <span style="color:#000">ActionListener</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">actionPerformed</span>(<span style="color:#000">ActionEvent</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">if</span> (<span style="color:#000">confirmDialog</span>(<span style="color:#c41a16">"Confirm resetting?"</span>, <span style="color:#c41a16">"Reset"</span>)) {
</span></span><span style="display:flex;"><span>					<span style="color:#000">observer</span>.<span style="color:#836c28">resetGame</span>();
</span></span><span style="display:flex;"><span>				}
</span></span></code></pre></div></section><section>
<h2 id="implementazione-della-view-drawnumberviewimpl-33">Implementazione della view: <code>DrawNumberViewImpl</code> (3/3)</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>		});
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">start</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">frame</span>.<span style="color:#836c28">setVisible</span>(<span style="color:#a90d91">true</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">boolean</span> <span style="color:#000">confirmDialog</span>(<span style="color:#000">String</span> <span style="color:#000">question</span>, <span style="color:#000">String</span> <span style="color:#000">name</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">return</span> <span style="color:#000">JOptionPane</span>.<span style="color:#836c28">showConfirmDialog</span>(<span style="color:#000">frame</span>, <span style="color:#000">question</span>, <span style="color:#000">name</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#000">JOptionPane</span>.<span style="color:#836c28">YES_NO_OPTION</span>) <span style="color:#000">==</span> <span style="color:#000">JOptionPane</span>.<span style="color:#836c28">YES_OPTION</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">setObserver</span>(<span style="color:#000">DrawNumberViewObserver</span> <span style="color:#000">observer</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">observer</span> <span style="color:#000">=</span> <span style="color:#000">observer</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">numberIncorrect</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#000">JOptionPane</span>.<span style="color:#836c28">showMessageDialog</span>(<span style="color:#000">frame</span>, <span style="color:#c41a16">"Incorrect Number.. try again"</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#c41a16">"Incorrect Number"</span>, <span style="color:#000">JOptionPane</span>.<span style="color:#836c28">ERROR_MESSAGE</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">limitsReached</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#000">JOptionPane</span>.<span style="color:#836c28">showMessageDialog</span>(<span style="color:#000">frame</span>, <span style="color:#c41a16">"You lost.. a new game starts"</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#c41a16">"Lost"</span>, <span style="color:#000">JOptionPane</span>.<span style="color:#836c28">WARNING_MESSAGE</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">result</span>(<span style="color:#000">DrawResult</span> <span style="color:#000">res</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#000">JOptionPane</span>.<span style="color:#836c28">showMessageDialog</span>(<span style="color:#000">frame</span>, <span style="color:#000">messages</span>.<span style="color:#836c28">get</span>(<span style="color:#000">res</span>),
</span></span><span style="display:flex;"><span>				<span style="color:#c41a16">"Result"</span>, <span style="color:#000">JOptionPane</span>.<span style="color:#836c28">PLAIN_MESSAGE</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h2 id="implementazione-del-controller-drawnumberapp-12">Implementazione del controller: <code>DrawNumberApp</code> (1/2)</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">it.unibo.guis.swing.mvc.model.DrawResult</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">it.unibo.guis.swing.mvc.view.DrawNumberView</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">it.unibo.guis.swing.mvc.view.DrawNumberViewImpl</span>;
</span></span><span style="display:flex;"><span><span style="color:#a90d91">import</span> <span style="color:#000">it.unibo.guis.swing.mvc.view.DrawNumberViewObserver</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a90d91">public</span> <span style="color:#a90d91">class</span> <span style="color:#3f6e75">DrawNumberApp</span> <span style="color:#a90d91">implements</span> <span style="color:#000">DrawNumberViewObserver</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">MIN</span> <span style="color:#000">=</span> <span style="color:#000">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">MAX</span> <span style="color:#000">=</span> <span style="color:#000">100</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">ATTEMPTS</span> <span style="color:#000">=</span> <span style="color:#000">10</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#000">DrawNumber</span> <span style="color:#000">model</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">private</span> <span style="color:#a90d91">final</span> <span style="color:#000">DrawNumberView</span> <span style="color:#000">view</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#000">DrawNumberApp</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">model</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">DrawNumberImpl</span>(<span style="color:#000">MIN</span>, <span style="color:#000">MAX</span>, <span style="color:#000">ATTEMPTS</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">view</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">DrawNumberViewImpl</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">view</span>.<span style="color:#836c28">setObserver</span>(<span style="color:#a90d91">this</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">view</span>.<span style="color:#836c28">start</span>();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">newAttempt</span>(<span style="color:#a90d91">int</span> <span style="color:#000">n</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">try</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">final</span> <span style="color:#000">DrawResult</span> <span style="color:#000">result</span> <span style="color:#000">=</span> <span style="color:#a90d91">this</span>.<span style="color:#836c28">model</span>.<span style="color:#836c28">attempt</span>(<span style="color:#000">n</span>);
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">this</span>.<span style="color:#836c28">view</span>.<span style="color:#836c28">result</span>(<span style="color:#000">result</span>);
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">if</span> (<span style="color:#000">result</span> <span style="color:#000">==</span> <span style="color:#000">DrawResult</span>.<span style="color:#836c28">YOU_WON</span>) {
</span></span><span style="display:flex;"><span>				<span style="color:#a90d91">this</span>.<span style="color:#836c28">quit</span>();
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		} <span style="color:#a90d91">catch</span> (<span style="color:#000">IllegalArgumentException</span> <span style="color:#000">e</span>) {
</span></span></code></pre></div></section><section>
<h2 id="implementazione-del-controller-drawnumberapp-22">Implementazione del controller: <code>DrawNumberApp</code> (2/2)</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>			<span style="color:#a90d91">this</span>.<span style="color:#836c28">view</span>.<span style="color:#836c28">numberIncorrect</span>();
</span></span><span style="display:flex;"><span>		} <span style="color:#a90d91">catch</span> (<span style="color:#000">AttemptsLimitReachedException</span> <span style="color:#000">e</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#a90d91">this</span>.<span style="color:#836c28">view</span>.<span style="color:#836c28">limitsReached</span>();
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">resetGame</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">this</span>.<span style="color:#836c28">model</span>.<span style="color:#836c28">reset</span>();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">void</span> <span style="color:#000">quit</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span>.<span style="color:#836c28">exit</span>(<span style="color:#000">0</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a90d91">public</span> <span style="color:#a90d91">static</span> <span style="color:#a90d91">void</span> <span style="color:#000">main</span>(<span style="color:#000">String</span><span style="color:#000">[]</span> <span style="color:#000">args</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#a90d91">new</span> <span style="color:#000">DrawNumberApp</span>();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></section><section>
<h2 id="linee-guida-generali-consigliate-su-mvc">Linee guida generali consigliate su MVC</h2>
<h3 id="metodologia-proposta">Metodologia proposta</h3>
<ul>
<li>
<p>progettare le 3 interfacce</p>
<ul>
<li>M: metodi di “dominio”, chiamati da C</li>
<li>C: metodi (<code>void</code>) chiamati da V, esprimono “azioni utente”</li>
<li>V: metodi (<code>void</code>) chiamati da C, esprimono richieste di visualizzazione</li>
</ul>
</li>
<li>
<p>la tecnologia scelta per le GUI sia interna a V, e mai menzionata altrove o nelle interfacce</p>
</li>
<li>
<p>implementare separatamente M, V e C, poi comporre e testare</p>
</li>
<li>
<p>in progetti reali, M, V e C si compongono di varie parti</p>
</li>
</ul>
<h3 id="aspetti">Aspetti</h3>
<ul>
<li>MVC è implementato in vari modi, o esiste in diverse varianti
<ul>
<li>Model-View-ViewModel (MVVM), Model-View-Presenter (MVP), …</li>
</ul>
</li>
<li>l’approccio proposto è particolarmente indicato per la sua semplicità</li>
<li>si usino altri approcci se non peggiorativi</li>
</ul>
</section>

  


</div>
      

    </div>
<script type="text/javascript" src="/reveal-hugo/object-assign.js"></script>

<a href="/reveal-js/dist/print/" id="print-location" style="display: none;"></a>

<script type="application/json" id="reveal-hugo-site-params">{"custom_theme":"custom-theme.scss","custom_theme_compile":true,"custom_theme_options":{"enablesourcemap":true,"targetpath":"css/custom-theme.css"},"height":"900","highlight_theme":"default","history":true,"mermaid":[{"startOnLoad":false}],"slide_number":true,"theme":"white","transition":"slide","transition_speed":"fast","width":"1440"}</script>
<script type="application/json" id="reveal-hugo-page-params">null</script>

<script src="/reveal-js/dist/reveal.js"></script>


  
  
  <script type="text/javascript" src="/reveal-js/plugin/markdown/markdown.js"></script>
  
  <script type="text/javascript" src="/reveal-js/plugin/highlight/highlight.js"></script>
  
  <script type="text/javascript" src="/reveal-js/plugin/zoom/zoom.js"></script>
  
  <script type="text/javascript" src="/reveal-js/plugin/notes/notes.js"></script>
  
  
  <script type="text/javascript" src="/reveal-js/plugin/notes/notes.js"></script>




<script type="text/javascript">
  
  
  function camelize(map) {
    if (map) {
      Object.keys(map).forEach(function(k) {
        newK = k.replace(/(\_\w)/g, function(m) { return m[1].toUpperCase() });
        if (newK != k) {
          map[newK] = map[k];
          delete map[k];
        }
      });
    }
    return map;
  }

  var revealHugoDefaults = { center: true, controls: true, history: true, progress: true, transition: "slide" };

  var revealHugoPlugins = {
    plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom ]
   };
  var revealHugoSiteParams = JSON.parse(document.getElementById('reveal-hugo-site-params').innerHTML);
  var revealHugoPageParams = JSON.parse(document.getElementById('reveal-hugo-page-params').innerHTML);
  
  var options = Object.assign({},
    camelize(revealHugoDefaults),
    camelize(revealHugoSiteParams),
    camelize(revealHugoPageParams),
    camelize(revealHugoPlugins));
  Reveal.initialize(options);
</script>







  
  

  
  

  
  

  
  

  
  

  
  

  
    
  
  

  
    
  
  

  
  

  
    
  
  

  
  

  
    
  
  

  
  

  
  

  
    
  
  

  
    
  
  

  
  

  
  

  
    
  
  

  
    
  
  

  
  

  
  

  
  

  
    
  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  



  <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.3/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({"startOnLoad":false});

    let render = (event) => {
      let mermaidElems = event.currentSlide.querySelectorAll('.mermaid');
      if (!mermaidElems.length){
          return
      }
      mermaidElems.forEach(mermaidElem => {
          let processed = mermaidElem.getAttribute('data-processed');
          if (!processed){
              
              mermaid.init(undefined, mermaidElem);
          }
      });
    };
    
    render({currentSlide: Reveal.getCurrentSlide()});

    Reveal.on('slidechanged', render);
    Reveal.on('ready', render);
  </script>



    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
</script>

<script type="text/javascript" id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<script>
  if (/.*?(\?|&)print-pdf/.test(window.location.toString())) {
      var ytVideos = document.getElementsByTagName("iframe")
      for (let i = 0; i < ytVideos.length; i++) {
          var videoFrame = ytVideos[i]
          var isYouTube = /^https?:\/\/(www.)youtube\.com\/.*/.test(videoFrame.src)
          if (isYouTube) {
              console.log(`Removing ${videoFrame.src}`)
              var parent = videoFrame.parentElement
              videoFrame.remove()
              var p = document.createElement('p')
              p.append(
                  document.createTextNode(
                      "There was an embedded video here, but it is disabled in the printed version of the slides."
                  )
              )
              p.append(document.createElement('br'))
              p.append(
                  document.createTextNode(
                      `Visit instead ${
                          videoFrame.src
                      } or ${
                          videoFrame.src.replace(
                              /(^https?:\/\/(www.)youtube\.com)\/(embed\/)(\w+).*/,
                              "https://www.youtube.com/watch?v=$4"
                          )
                      }`
                  )
              )
              parent.appendChild(p)
          }
      }
  }
</script>

    
  

</body></html>